/* 🏆 CONTEST-WINNING ENHANCED KNOWLEDGE HUB - Spectacular Visual Design */
/* Knowledge hub variables now consolidated in critical-fixes.css */

/* 🚀 SPECTACULAR KNOWLEDGE HUB CONTAINER - EXACT MATCH to task system with FIXED SPACING */
.enhanced-knowledge-hub.spectacular-mode {
    /* ENHANCED Multi-layer animated background - EXACT MATCH to task system */
    background:
        /* Animated gradient waves */
        linear-gradient(45deg, var(--primary-500) 0%, transparent 50%, var(--primary-500) 100%),
        linear-gradient(-45deg, var(--primary-600) 0%, transparent 50%, var(--primary-600) 100%),
        linear-gradient(90deg, transparent 0%, rgba(139, 92, 246, 0.4) 25%, transparent 50%, rgba(6, 182, 212, 0.4) 75%, transparent 100%),
        /* Primary gradient base */
        linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%),
        /* Animated accent gradients */
        radial-gradient(ellipse 1200px 800px at 20% 20%, rgba(139, 92, 246, 0.5) 0%, transparent 50%),
        radial-gradient(ellipse 800px 1200px at 80% 80%, rgba(6, 182, 212, 0.4) 0%, transparent 50%),
        radial-gradient(ellipse 600px 600px at 50% 50%, rgba(16, 185, 129, 0.3) 0%, transparent 70%),
        radial-gradient(ellipse 600px 600px at 10% 80%, rgba(245, 158, 11, 0.3) 0%, transparent 60%),
        /* Enhanced texture overlay with animation */
        repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(255, 255, 255, 0.08) 2px, rgba(255, 255, 255, 0.08) 4px),
        repeating-linear-gradient(-45deg, transparent, transparent 4px, rgba(255, 255, 255, 0.04) 4px, rgba(255, 255, 255, 0.04) 8px) !important;

    border-radius: var(--radius-2xl) !important;
    padding: var(--knowledge-container-padding) !important;
    position: relative !important;
    overflow: hidden !important;
    margin: 0 !important;
    /* 🔧 Remove all external margins */
    color: white !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;

    /* Spectacular glow and animation effects matching task system */
    box-shadow:
        0 20px 25px -5px rgba(0, 0, 0, 0.1),
        0 10px 10px -5px rgba(0, 0, 0, 0.04),
        0 0 0 1px rgba(255, 255, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.4),
        0 0 60px rgba(99, 102, 241, 0.4),
        0 0 120px rgba(99, 102, 241, 0.2) !important;

    /* Smooth transitions */
    transition: all var(--duration-normal) var(--ease-in-out) !important;

    /* Enhanced backdrop */
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;

    /* SPECTACULAR glow and animation effects */
    animation:
        spectralGlow 6s ease-in-out infinite,
        knowledgeBackgroundShift 20s linear infinite,
        subtlePulse 4s ease-in-out infinite !important;

    /* 3D transform for depth */
    transform-style: preserve-3d !important;
    perspective: 1000px !important;

    /* 🔧 FIXED DIMENSIONS - No extra space */
    min-height: auto;
    height: auto;
    width: 100%;
    max-width: none;

    /* 🔧 ENSURE NO BOTTOM SPACE BLEED */
    display: flex;
    flex-direction: column;
    gap: var(--knowledge-section-gap);

    /* 🔧 STRICT CONTAINMENT TO PREVENT OVERFLOW */
    contain: layout style;
    isolation: isolate;

    /* 🔧 FORCE CLEAN BOTTOM EDGE - NO EXTRA SPACE */
    padding-bottom: 0 !important;
}

/* 🔧 REMOVE LAST CHILD MARGINS TO PREVENT EXTRA BOTTOM SPACE */
.enhanced-knowledge-hub.spectacular-mode>*:last-child {
    margin-bottom: 0 !important;
}

.enhanced-knowledge-hub.spectacular-mode .enhanced-filters.spectacular {
    margin-bottom: 0 !important;
    margin-top: 0 !important;
}

/* 🔧 STANDARDIZE ALL SECTION SPACING */
.ai-insights-section.spectacular,
.learning-analytics.spectacular,
.learning-paths-section.spectacular,
.resources-section.spectacular {
    margin-bottom: 0 !important;
    /* Remove individual margins, use parent gap instead */
    position: relative;
    z-index: 2;
    background: transparent !important;
}

/* 🔧 HEADER SECTION SPACING FIX */
.hub-header.spectacular {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 0 !important;
    /* Remove margin, use parent gap */
    padding-bottom: var(--space-4);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    position: relative;
    z-index: 2;
    background: none !important;
    background-color: transparent !important;
    gap: var(--space-4);
    flex-wrap: wrap;
    width: 100%;
    min-height: auto;
}

/* 🔧 GRID SPACING STANDARDIZATION */
.ai-insights-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--knowledge-card-gap);
    margin-top: 0 !important;
    /* Remove top margin */
}

.analytics-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--knowledge-card-gap);
    margin-top: 0 !important;
    /* Remove top margin */
}

.learning-paths-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--knowledge-card-gap);
    margin-top: 0 !important;
    /* Remove top margin */
}

.resources-container.spectacular {
    display: grid !important;
    gap: var(--knowledge-card-gap);
    width: 100%;
    margin-top: 0 !important;
    /* Remove top margin */
    margin-bottom: 0 !important;
    /* Remove bottom margin */
}

/* 🔧 SECTION TITLES CONSISTENT SPACING */
.insights-title.spectacular,
.analytics-title.spectacular,
.section-title.spectacular {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: white !important;
    margin: 0 0 var(--space-4) 0 !important;
    /* Standardized bottom margin */
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
    z-index: 2;
}

/* 🔧 ENHANCED FILTERS - REMOVE EXCESSIVE PADDING */
.enhanced-filters.spectacular {
    padding: var(--space-4) 0 !important;
    /* Reduced padding */
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.05);
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

/* 🔧 FILTER SECTION SPACING */
.filter-section {
    margin-bottom: var(--space-3) !important;
    /* Reduced margin */
}

.filter-section:last-child {
    margin-bottom: 0 !important;
}

/* 🔧 CARD INTERNAL SPACING STANDARDIZATION */
.ai-insight-card.spectacular,
.analytics-card.spectacular,
.learning-path-card.spectacular,
.enhanced-resource-card.spectacular {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(15px);
    border-radius: var(--radius-xl);
    padding: var(--space-5) !important;
    /* Standardized padding */
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all var(--duration-normal) var(--ease-spring);
    color: white !important;
    box-shadow: 0 8px 20px rgba(99, 102, 241, 0.2);
    position: relative;
    overflow: hidden;
    animation: spectacularEntrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
    margin: 0 !important;
    /* Remove any margins from cards */
}

/* 🔧 RESOURCE ACTIONS SPACING */
.resource-actions.spectacular {
    display: flex !important;
    gap: var(--space-2) !important;
    margin-top: var(--space-4) !important;
    margin-bottom: 0 !important;
    /* Remove bottom margin */
}

/* 🔧 INSIGHT ACTIONS SPACING */
.insight-actions.spectacular {
    display: flex;
    gap: var(--space-3);
    margin-top: var(--space-4);
    margin-bottom: 0 !important;
    /* Remove bottom margin */
}

/* 🔧 PATH ACTIONS SPACING */
.path-actions.spectacular {
    display: flex;
    gap: var(--space-3);
    margin-top: var(--space-4);
    margin-bottom: 0 !important;
    /* Remove bottom margin */
}

/* 🔧 SECTION HEADER SPACING */
.section-header.spectacular {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-4) !important;
    /* Standardized margin */
    flex-wrap: wrap;
    gap: var(--space-4);
}

/* 🔧 RESPONSIVE SPACING ADJUSTMENTS */
@media (max-width: 1024px) {
    .enhanced-knowledge-hub.spectacular-mode {
        padding: var(--space-4) !important;
        gap: var(--space-4);
        /* Reduced gap on tablets */
    }

    .ai-insights-grid.spectacular {
        grid-template-columns: 1fr;
        gap: var(--space-3);
    }

    .analytics-grid.spectacular {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-3);
    }

    .learning-paths-grid.spectacular {
        grid-template-columns: 1fr;
        gap: var(--space-3);
    }

    .resources-container.spectacular.grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--space-3);
    }
}

@media (max-width: 768px) {
    .enhanced-knowledge-hub.spectacular-mode {
        padding: var(--space-3) !important;
        gap: var(--space-3);
        /* Reduced gap on mobile */
    }

    .hub-header.spectacular {
        flex-direction: column;
        gap: var(--space-3);
        align-items: stretch;
        padding-bottom: var(--space-3);
    }

    .analytics-grid.spectacular {
        grid-template-columns: 1fr;
        gap: var(--space-3);
    }

    .resources-container.spectacular.grid {
        grid-template-columns: 1fr;
        gap: var(--space-3);
    }

    .enhanced-filters.spectacular {
        padding: var(--space-3) 0 !important;
    }
}

@media (max-width: 480px) {
    .enhanced-knowledge-hub.spectacular-mode {
        padding: var(--space-2) !important;
        gap: var(--space-2);
        /* Minimal gap on small mobile */
        border-radius: var(--radius-xl);
        /* Reduce blur effects for better readability on mobile */
        backdrop-filter: blur(3px) !important;
        -webkit-backdrop-filter: blur(3px) !important;
    }

    .ai-insight-card.spectacular,
    .analytics-card.spectacular,
    .learning-path-card.spectacular,
    .enhanced-resource-card.spectacular {
        padding: var(--space-3) !important;
        /* Reduced padding on mobile */
        backdrop-filter: blur(3px) !important;
        -webkit-backdrop-filter: blur(3px) !important;
    }

    .hub-title.spectacular {
        font-size: var(--font-size-2xl);
    }

    .insights-title.spectacular,
    .analytics-title.spectacular,
    .section-title.spectacular {
        font-size: var(--font-size-xl);
        margin-bottom: var(--space-3) !important;
    }

    .enhanced-filters.spectacular {
        padding: var(--space-2) 0 !important;
    }

    .filter-section {
        margin-bottom: var(--space-2) !important;
    }
}

/* 🔧 ABSOLUTELY NO ELEMENTS EXTENDING BEYOND CONTAINER */
.enhanced-knowledge-hub.spectacular-mode .knowledge-sparkles,
.enhanced-knowledge-hub.spectacular-mode .knowledge-particles-system {
    clip-path: inset(0 0 0 0);
    contain: strict;
}

/* 🔧 HIDE ALL SPARKLE EFFECTS TO PREVENT OVERFLOW */
.knowledge-sparkle,
.hover-sparkle,
.knowledge-sparkles {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* 🔧 CLEAN UP ANY REMAINING SPACING ISSUES */
.enhanced-knowledge-hub.spectacular-mode .progress-stats.spectacular {
    margin-bottom: 0 !important;
}

.enhanced-knowledge-hub.spectacular-mode .skill-gaps.spectacular {
    margin-bottom: 0 !important;
}

.enhanced-knowledge-hub.spectacular-mode .trending-topics.spectacular {
    margin-bottom: 0 !important;
}

.enhanced-knowledge-hub.spectacular-mode .path-skills.spectacular {
    margin-bottom: var(--space-3) !important;
    /* Consistent spacing before actions */
}

.enhanced-knowledge-hub.spectacular-mode .resource-tags.spectacular {
    margin-bottom: var(--space-3) !important;
    /* Consistent spacing before actions */
}

/* knowledgeGlow animation removed - using spectralGlow from animations.css to avoid duplication */

@keyframes knowledgeBackgroundShift {
    0% {
        background-position: 0% 0%, 100% 100%, 0% 50%, 0% 0%, 20% 20%, 80% 80%, 50% 50%, 10% 80%, 0% 0%, 0% 0%;
    }

    25% {
        background-position: 100% 0%, 0% 100%, 25% 50%, 0% 0%, 25% 25%, 75% 75%, 45% 55%, 15% 75%, 25% 25%, 25% 25%;
    }

    50% {
        background-position: 100% 100%, 0% 0%, 50% 50%, 0% 0%, 30% 30%, 70% 70%, 40% 60%, 20% 70%, 50% 50%, 50% 50%;
    }

    75% {
        background-position: 0% 100%, 100% 0%, 75% 50%, 0% 0%, 35% 35%, 65% 65%, 35% 65%, 25% 65%, 75% 75%, 75% 75%;
    }

    100% {
        background-position: 0% 0%, 100% 100%, 0% 50%, 0% 0%, 20% 20%, 80% 80%, 50% 50%, 10% 80%, 0% 0%, 0% 0%;
    }
}

/* Knowledge hub animations using central definitions */

/* spectacularEntrance animation removed - using spectacularEntrance from animations.css to avoid duplication */

/* ✨ FLOATING GEOMETRIC SHAPES - CONSTRAINED */
.enhanced-knowledge-hub::before {
    content: '';
    position: absolute;
    top: -40%;
    right: -40%;
    width: 180%;
    height: 180%;
    background:
        radial-gradient(circle at 40% 40%, rgba(99, 102, 241, 0.3) 0%, rgba(99, 102, 241, 0.15) 20%, transparent 50%),
        radial-gradient(circle at 30% 30%, rgba(139, 92, 246, 0.2) 0%, rgba(139, 92, 246, 0.1) 25%, transparent 40%),
        radial-gradient(circle at 70% 70%, rgba(6, 182, 212, 0.2) 0%, rgba(6, 182, 212, 0.05) 30%, transparent 50%);
    border-radius: 50%;
    animation: knowledgeFloat 20s ease-in-out infinite reverse;
    pointer-events: none;
    z-index: 1;
    filter: blur(1px);
    overflow: hidden;
}

.enhanced-knowledge-hub::after {
    content: '';
    position: absolute;
    top: -30%;
    left: -30%;
    width: 160%;
    height: 160%;
    background:
        radial-gradient(circle at 70% 30%, rgba(6, 182, 212, 0.3) 0%, rgba(6, 182, 212, 0.15) 25%, transparent 50%),
        radial-gradient(circle at 20% 70%, rgba(16, 185, 129, 0.2) 0%, rgba(16, 185, 129, 0.1) 30%, transparent 60%),
        radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.2) 0%, rgba(245, 158, 11, 0.05) 35%, transparent 60%);
    animation: knowledgeFloat 25s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
    filter: blur(0.8px);
    overflow: hidden;
}

@keyframes knowledgeFloat {

    0%,
    100% {
        transform: translateX(0px) translateY(0px) scale(1) rotate(0deg);
        opacity: 0.6;
    }

    25% {
        transform: translateX(10px) translateY(-10px) scale(1.02) rotate(1deg);
        opacity: 0.8;
    }

    50% {
        transform: translateX(-8px) translateY(-8px) scale(0.98) rotate(-0.5deg);
        opacity: 0.7;
    }

    75% {
        transform: translateX(-10px) translateY(10px) scale(1.01) rotate(0.5deg);
        opacity: 0.9;
    }
}

/* 🌟 SPECTACULAR PARTICLE SYSTEM - CONSTRAINED */
.knowledge-particles-system {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 2;
    overflow: hidden;
    border-radius: var(--radius-2xl);
    /* Match parent border radius */
}

.knowledge-particle {
    position: absolute;
    border-radius: 50%;
    pointer-events: none;
    filter: blur(0.5px);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
    background: radial-gradient(circle, var(--knowledge-hub-primary) 0%, transparent 70%);
    animation: knowledgeParticleFloat 15s ease-in-out infinite;
}

@keyframes knowledgeParticleFloat {

    0%,
    100% {
        transform: translateX(0px) translateY(0px) scale(1) rotate(0deg);
        opacity: 0.4;
        filter: blur(0.5px) hue-rotate(0deg);
    }

    25% {
        transform: translateX(15px) translateY(-20px) scale(1.1) rotate(90deg);
        opacity: 0.8;
        filter: blur(0.3px) hue-rotate(90deg);
    }

    50% {
        transform: translateX(-15px) translateY(-15px) scale(0.9) rotate(180deg);
        opacity: 0.6;
        filter: blur(0.7px) hue-rotate(180deg);
    }

    75% {
        transform: translateX(-20px) translateY(20px) scale(1.05) rotate(270deg);
        opacity: 0.7;
        filter: blur(0.4px) hue-rotate(270deg);
    }
}

/* ✨ SPARKLE EFFECTS - DISABLED TO PREVENT OVERFLOW */
.knowledge-sparkles {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 4;
    overflow: hidden;
    border-radius: var(--radius-2xl);
    /* Match parent border radius */
    display: none !important;
    /* Completely hide sparkles container */
}

.knowledge-sparkle {
    position: absolute;
    animation: none !important;
    /* Disabled to prevent overflow */
    /* Constrain sparkles within safe area */
    max-width: calc(100% - 40px);
    max-height: calc(100% - 40px);
    display: none !important;
    /* Hide all sparkles */
}

@keyframes knowledgeSparkle {

    0%,
    100% {
        opacity: 0;
        transform: scale(0) rotate(0deg);
    }

    50% {
        opacity: 1;
        transform: scale(1.2) rotate(180deg);
    }
}

/* 🎯 ENERGY RINGS */
.knowledge-energy-ring {
    position: absolute;
    width: 100px;
    height: 100px;
    border: 2px solid rgba(99, 102, 241, 0.3);
    border-radius: 50%;
    animation: knowledgeEnergyPulse 3s ease-in-out infinite;
    pointer-events: none;
    z-index: 3;
}

@keyframes knowledgeEnergyPulse {

    0%,
    100% {
        opacity: 0;
        transform: scale(0.3);
        border-color: rgba(99, 102, 241, 0.1);
    }

    50% {
        opacity: 0.4;
        transform: scale(1);
        border-color: rgba(99, 102, 241, 0.4);
    }
}

/* SPECTACULAR HEADER SECTION - IMPROVED ALIGNMENT - UPDATED TO USE PARENT GAP */
.hub-header.spectacular {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 0 !important;
    /* Use parent gap instead */
    padding-bottom: var(--space-4);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    position: relative;
    z-index: 2;
    background: none !important;
    background-color: transparent !important;
    gap: var(--space-4);
    flex-wrap: wrap;
    width: 100%;
    min-height: auto;
}

.hub-title.spectacular {
    font-size: var(--font-size-3xl);
    font-weight: 900;
    color: white !important;
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    background: none !important;
    background-color: transparent !important;
    background-image: none !important;
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: white !important;
    background-clip: unset !important;
    box-shadow: none !important;
    border: none !important;
    padding: 0 !important;
}

.title-icon.spectacular {
    width: 32px;
    height: 32px;
    stroke: white !important;
    stroke-width: 2px;
    color: white !important;
    fill: none !important;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.ai-badge.spectacular {
    background: linear-gradient(135deg, var(--knowledge-accent-1), var(--knowledge-accent-2)) !important;
    color: white !important;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: 600;
    animation: pulse 2s ease-in-out infinite;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.hub-subtitle.spectacular {
    font-size: var(--font-size-lg);
    color: rgba(255, 255, 255, 0.8);
    margin: 0;
    line-height: 1.4;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.hub-stats.spectacular {
    display: flex;
    gap: var(--space-4);
    margin-top: var(--space-4);
    flex-wrap: wrap;
}

.stat-bubble {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-4);
    border: 1px solid rgba(255, 255, 255, 0.2);
    text-align: center;
    min-width: 80px;
    transition: all var(--duration-normal) var(--ease-spring);
}

.stat-bubble:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
}

.stat-value {
    display: block;
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: white;
    margin-bottom: var(--space-1);
    line-height: 1;
}

.stat-label {
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* HUB CONTROLS CONTAINER - PERFECT ALIGNMENT */
.hub-controls.spectacular {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    flex-wrap: wrap;
    justify-content: flex-end;
    width: auto;
    flex-shrink: 0;
}

/* SPECTACULAR SEARCH CONTAINER - MATCHING WELCOME/ANALYTICS SECTIONS */
.search-container.spectacular {
    position: relative;
    width: 320px;
    min-width: 280px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(15px);
    border-radius: var(--radius-xl);
    padding: var(--space-3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2);
    display: flex !important;
    align-items: center !important;
    height: 56px;
}

/* 🚨 CRITICAL FIX: Override main.css knowledge-hub search styles with higher specificity */
.enhanced-knowledge-hub.spectacular-mode .search-container .enhanced-search.spectacular,
.enhanced-knowledge-hub.spectacular-mode .search-input,
html body .enhanced-knowledge-hub.spectacular-mode .search-container .enhanced-search,
html body .enhanced-knowledge-hub.spectacular-mode .search-input,
html body .knowledge-hub.spectacular-mode .search-input {
    padding: var(--space-3) var(--space-12) var(--space-3) var(--space-12) !important;
    border: none !important;
    border-radius: var(--radius-lg) !important;
    background: transparent !important;
    color: white !important;
    font-size: var(--font-size-sm) !important;
    font-weight: 500 !important;
    width: 100% !important;
    height: 40px !important;
    transition: all var(--duration-normal) var(--ease-in-out) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
    outline: none !important;
}

.enhanced-search.spectacular {
    padding: var(--space-3) var(--space-12) var(--space-3) var(--space-12);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    color: white;
    font-size: var(--font-size-sm);
    font-weight: 500;
    width: 100%;
    transition: all var(--duration-normal) var(--ease-in-out);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Focus and placeholder states with higher specificity to override main.css */
.enhanced-knowledge-hub.spectacular-mode .search-container .enhanced-search.spectacular:focus,
.enhanced-knowledge-hub.spectacular-mode .search-input:focus,
html body .enhanced-knowledge-hub.spectacular-mode .search-container .enhanced-search:focus,
html body .enhanced-knowledge-hub.spectacular-mode .search-input:focus,
html body .knowledge-hub.spectacular-mode .search-input:focus {
    outline: none !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2) !important;
    transform: translateY(-1px) !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.12) 100%) !important;
}

.enhanced-knowledge-hub.spectacular-mode .search-container .enhanced-search.spectacular::placeholder,
.enhanced-knowledge-hub.spectacular-mode .search-input::placeholder,
html body .enhanced-knowledge-hub.spectacular-mode .search-container .enhanced-search::placeholder,
html body .enhanced-knowledge-hub.spectacular-mode .search-input::placeholder,
html body .knowledge-hub.spectacular-mode .search-input::placeholder {
    color: rgba(255, 255, 255, 0.6) !important;
    font-weight: 400 !important;
}

.enhanced-search.spectacular:focus {
    outline: none;
    border-color: rgba(255, 255, 255, 0.5);
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.12) 100%);
}

.enhanced-search.spectacular::placeholder {
    color: rgba(255, 255, 255, 0.6);
}

/* Search icon with higher specificity to override main.css */
.enhanced-knowledge-hub.spectacular-mode .search-icon.spectacular,
.enhanced-knowledge-hub.spectacular-mode .search-icon,
html body .enhanced-knowledge-hub.spectacular-mode .search-icon,
html body .knowledge-hub.spectacular-mode .search-icon {
    position: absolute !important;
    left: var(--space-4) !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 18px !important;
    height: 18px !important;
    color: rgba(255, 255, 255, 0.7) !important;
    pointer-events: none !important;
    stroke: white !important;
    fill: none !important;
    z-index: 2 !important;
}

.search-icon.spectacular {
    position: absolute;
    left: var(--space-4);
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    color: rgba(255, 255, 255, 0.7);
    pointer-events: none;
    stroke: white !important;
}

.ai-search-btn.spectacular {
    position: absolute !important;
    right: var(--space-3) !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 32px !important;
    height: 32px !important;
    background: linear-gradient(135deg, var(--knowledge-accent-1), var(--knowledge-accent-2)) !important;
    border: none !important;
    border-radius: var(--radius-lg) !important;
    color: white !important;
    cursor: pointer !important;
    transition: all var(--duration-normal) var(--ease-spring) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 3 !important;
}

.ai-search-btn.spectacular:hover {
    transform: translateY(-50%) scale(1.1) !important;
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4) !important;
}

.ai-search-btn.spectacular svg {
    width: 16px !important;
    height: 16px !important;
    stroke: white !important;
    fill: none !important;
}

/* SPECTACULAR VIEW CONTROLS */
.view-controls.spectacular {
    display: flex;
    gap: var(--space-2);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-lg);
    padding: var(--space-1);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.view-btn.spectacular {
    padding: var(--space-2) var(--space-3);
    border: none;
    background: transparent;
    border-radius: var(--radius-md);
    color: rgba(255, 255, 255, 0.7);
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-in-out);
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.view-btn.spectacular svg {
    width: 16px;
    height: 16px;
    stroke: currentColor !important;
}

.view-btn.spectacular:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.view-btn.spectacular.active {
    background: var(--knowledge-hub-primary);
    color: white;
    box-shadow: var(--shadow-sm);
}

/* SPECTACULAR AI INSIGHTS SECTION - UPDATED TO USE PARENT GAP */
.ai-insights-section.spectacular {
    margin-bottom: 0 !important;
    /* Use parent gap instead */
    position: relative;
    z-index: 2;
    background: transparent !important;
}

.insights-title.spectacular {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: white !important;
    margin: 0 0 var(--space-4) 0 !important;
    /* Standardized margin */
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
    z-index: 2;
}

.section-icon-svg.spectacular {
    width: 24px;
    height: 24px;
    stroke: white !important;
    stroke-width: 2px;
    color: white !important;
    fill: none !important;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.live-indicator.spectacular {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: 600;
    animation: knowledgeLivePulse 1.5s ease-in-out infinite;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4);
}

@keyframes knowledgeLivePulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

.ai-insights-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--knowledge-card-gap);
    margin-top: 0 !important;
    /* Use parent gap instead */
}

.ai-insight-card.spectacular {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(15px);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all var(--duration-normal) var(--ease-spring);
    color: white;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    animation: spectacularEntrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
}

.ai-insight-card.spectacular::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(180deg, var(--knowledge-accent-1), var(--knowledge-accent-3));
    transform: scaleY(0);
    transition: transform var(--duration-normal) var(--ease-spring);
}

.ai-insight-card.spectacular:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);
    border-color: rgba(255, 255, 255, 0.3);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.1) 100%) !important;
}

.ai-insight-card.spectacular:hover::before {
    transform: scaleY(1);
}

.insight-header.spectacular {
    display: flex;
    align-items: flex-start;
    gap: var(--space-4);
    margin-bottom: var(--space-4);
}

.insight-icon.spectacular {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    color: white;
    flex-shrink: 0;
}

.insight-icon.spectacular.recommendation {
    background: rgba(16, 185, 129, 0.2);
    color: var(--success-200);
}

.insight-icon.spectacular.trending {
    background: rgba(245, 158, 11, 0.2);
    color: var(--warning-200);
}

.insight-icon.spectacular.update {
    background: rgba(6, 182, 212, 0.2);
    color: #67e8f9;
}

.insight-icon.spectacular.achievement {
    background: rgba(139, 92, 246, 0.2);
    color: #c4b5fd;
}

.insight-icon.spectacular svg {
    width: 20px;
    height: 20px;
    stroke: currentColor !important;
}

.insight-meta.spectacular {
    flex: 1;
}

.insight-title.spectacular {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: white;
    margin: 0 0 var(--space-2) 0;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.insight-badges.spectacular {
    display: flex;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
    flex-wrap: wrap;
}

.priority-badge {
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.priority-badge.urgent {
    background: rgba(239, 68, 68, 0.2);
    color: #fca5a5;
}

.priority-badge.important {
    background: rgba(245, 158, 11, 0.2);
    color: #fcd34d;
}

.priority-badge.normal {
    background: rgba(99, 102, 241, 0.2);
    color: #c7d2fe;
}

.priority-badge.celebration {
    background: rgba(16, 185, 129, 0.2);
    color: #86efac;
}

.time-badge,
.skill-badge {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 500;
}

.confidence-indicator.spectacular {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.confidence-bar.spectacular {
    flex: 1;
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.confidence-fill.spectacular {
    height: 100%;
    background: linear-gradient(90deg, var(--success-400), var(--success-500));
    border-radius: var(--radius-full);
    transition: width var(--duration-normal) var(--ease-in-out);
    position: relative;
}

.confidence-fill.spectacular::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: knowledgeConfidenceShimmer 2s infinite;
}

/* Shimmer animations consolidated in animations.css */

.confidence-text.spectacular {
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7);
    white-space: nowrap;
}

.impact-badge.spectacular {
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.impact-badge.spectacular.high {
    background: rgba(239, 68, 68, 0.2);
    color: #fca5a5;
}

.impact-badge.spectacular.medium {
    background: rgba(245, 158, 11, 0.2);
    color: #fcd34d;
}

.impact-badge.spectacular.low {
    background: rgba(99, 102, 241, 0.2);
    color: #c7d2fe;
}

.insight-description.spectacular {
    font-size: var(--font-size-sm);
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.5;
    margin: 0 0 var(--space-4) 0;
}

.insight-actions.spectacular {
    display: flex;
    gap: var(--space-3);
    margin-top: var(--space-4);
}

.insight-action-btn.spectacular {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-sm);
    font-weight: 500;
    border: 1px solid rgba(255, 255, 255, 0.2);
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-spring);
    flex: 1;
    justify-content: center;
}

.insight-action-btn.spectacular.primary {
    background: linear-gradient(135deg, var(--success-500), var(--success-600));
    color: white !important;
    border-color: var(--success-400);
}

.insight-action-btn.spectacular.primary:hover {
    background: linear-gradient(135deg, var(--success-400), var(--success-500)) !important;
    color: white !important;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
}

.insight-action-btn.spectacular.secondary {
    background: rgba(255, 255, 255, 0.1);
    color: white !important;
    border-color: rgba(255, 255, 255, 0.3);
}

.insight-action-btn.spectacular.secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
    background: rgba(255, 255, 255, 0.15) !important;
    color: white !important;
}

.insight-action-btn.spectacular svg {
    width: 16px;
    height: 16px;
    stroke: currentColor !important;
}

/* SPECTACULAR LEARNING ANALYTICS - UPDATED TO USE PARENT GAP */
.learning-analytics.spectacular {
    margin-bottom: 0 !important;
    /* Use parent gap instead */
    position: relative;
    z-index: 2;
    background: transparent !important;
}

.analytics-title.spectacular {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: white !important;
    margin: 0 0 var(--space-4) 0 !important;
    /* Standardized margin */
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
    z-index: 2;
}

.analytics-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-6);
    margin-top: var(--space-4);
}

.analytics-card.spectacular {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(15px);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all var(--duration-normal) var(--ease-spring);
    color: white;
    box-shadow: 0 8px 20px rgba(99, 102, 241, 0.2);
    position: relative;
    overflow: hidden;
    animation: spectacularEntrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
}

.analytics-card.spectacular::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--knowledge-hub-primary), var(--knowledge-accent-2), var(--knowledge-accent-3));
    transform: scaleX(0);
    transition: transform var(--duration-normal) var(--ease-spring);
}

.analytics-card.spectacular:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);
    border-color: rgba(255, 255, 255, 0.3);
}

.analytics-card.spectacular:hover::before {
    transform: scaleX(1);
}

.card-header.spectacular {
    margin-bottom: var(--space-4);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.card-header.spectacular h4 {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: white;
    margin: 0;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.ai-powered-badge {
    background: linear-gradient(135deg, var(--knowledge-accent-1), var(--knowledge-accent-2));
    color: white;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: 600;
    animation: pulse 2s ease-in-out infinite;
}

.progress-ring-container {
    position: relative;
    width: 100px;
    height: 100px;
    margin: 0 auto;
}

.progress-ring.spectacular {
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
}

.progress-ring.spectacular circle {
    fill: none;
    stroke-width: 6;
    stroke-linecap: round;
}

.progress-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.progress-value {
    display: block;
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: white;
    line-height: 1;
}

.progress-label {
    display: block;
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7);
    margin-top: var(--space-1);
}

.progress-stats.spectacular {
    display: flex;
    justify-content: space-around;
    margin-top: var(--space-4);
}

.progress-stat {
    text-align: center;
}

.progress-stat .stat-value {
    display: block;
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: white;
    margin-bottom: var(--space-1);
}

.progress-stat .stat-label {
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7);
}

.skill-gaps.spectacular {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.skill-gap-item.spectacular {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.1);
    transition: all var(--duration-normal) var(--ease-spring);
}

.skill-gap-item.spectacular:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateX(4px);
}

.gap-info {
    flex: 1;
    min-width: 0;
}

.gap-skill {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: white;
    line-height: 1.3;
}

.gap-level {
    display: block;
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7);
    margin-top: var(--space-1);
}

.gap-progress.spectacular {
    width: 60px;
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.gap-fill {
    height: 100%;
    border-radius: var(--radius-full);
    transition: width var(--duration-normal) var(--ease-in-out);
}

.gap-fill.urgent {
    background: var(--error-500);
    width: 85%;
}

.gap-fill.important {
    background: var(--warning-500);
    width: 65%;
}

.gap-fill.nice-to-have {
    background: var(--success-500);
    width: 35%;
}

.gap-action-btn.spectacular {
    background: var(--knowledge-hub-primary);
    color: white;
    border: none;
    padding: var(--space-1) var(--space-3);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-spring);
}

.gap-action-btn.spectacular:hover {
    background: var(--knowledge-hub-primary-dark);
    transform: scale(1.05);
}

.trend-indicator.spectacular {
    background: linear-gradient(135deg, var(--success-500), var(--success-600));
    color: white;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 600;
}

.trending-topics.spectacular {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.trending-item.spectacular {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    border-radius: var(--radius-lg);
    transition: all var(--duration-normal) var(--ease-in-out);
    cursor: pointer;
    animation: spectacularEntrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
}

.trending-item.spectacular:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.trending-rank.spectacular {
    width: 24px;
    height: 24px;
    border-radius: var(--radius-md);
    background: var(--knowledge-hub-primary);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-xs);
    font-weight: 600;
    flex-shrink: 0;
}

.trending-info {
    flex: 1;
    min-width: 0;
}

.trending-title {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: white;
    line-height: 1.3;
    margin-bottom: var(--space-1);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.trending-stats {
    display: block;
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.2;
}

.trending-spark {
    font-size: var(--font-size-sm);
    animation: knowledgeSparkle 2s ease-in-out infinite;
}

/* SPECTACULAR LEARNING PATHS - UPDATED TO USE PARENT GAP */
.learning-paths-section.spectacular {
    margin-bottom: 0 !important;
    /* Use parent gap instead */
    position: relative;
    z-index: 2;
    background: transparent !important;
}

.section-title.spectacular {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: white !important;
    margin-bottom: var(--space-6);
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
    z-index: 2;
}

.path-count-badge {
    background: linear-gradient(135deg, var(--knowledge-accent-2), var(--knowledge-accent-3));
    color: white;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: 600;
}

.learning-paths-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-6);
    margin-top: var(--space-4);
}

.learning-path-card.spectacular {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(15px);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all var(--duration-normal) var(--ease-spring);
    color: white;
    box-shadow: 0 8px 20px rgba(99, 102, 241, 0.2);
    position: relative;
    overflow: hidden;
    animation: spectacularEntrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
}

.learning-path-card.spectacular::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(180deg, var(--knowledge-accent-2), var(--knowledge-accent-3));
    transform: scaleY(0);
    transition: transform var(--duration-normal) var(--ease-spring);
}

.learning-path-card.spectacular:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 25px 50px rgba(99, 102, 241, 0.4);
    border-color: rgba(255, 255, 255, 0.3);
}

.learning-path-card.spectacular:hover::before {
    transform: scaleY(1);
}

.path-header.spectacular {
    margin-bottom: var(--space-3);
}

.path-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: white;
    margin: 0 0 var(--space-2) 0;
    line-height: 1.3;
}

.path-meta.spectacular {
    display: flex;
    gap: var(--space-3);
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7);
}

.path-description {
    font-size: var(--font-size-sm);
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.5;
    margin: 0 0 var(--space-4) 0;
}

.path-progress.spectacular {
    margin-bottom: var(--space-4);
}

.progress-bar.spectacular {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-full);
    overflow: hidden;
    margin-bottom: var(--space-2);
    position: relative;
}

.progress-fill.spectacular {
    height: 100%;
    background: linear-gradient(90deg, var(--success-400), var(--success-500));
    border-radius: var(--radius-full);
    transition: width var(--duration-normal) var(--ease-in-out);
    position: relative;
}

.progress-shine {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: shimmer 2s infinite;
}

/* Shimmer animations consolidated in animations.css */

.progress-text {
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: var(--space-1);
}

.progress-eta {
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.6);
}

.path-skills.spectacular {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin-bottom: var(--space-4);
}

.skill-badge.spectacular {
    padding: var(--space-1) var(--space-2);
    background: var(--knowledge-hub-primary);
    color: white;
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 500;
    opacity: 0.9;
    transition: all var(--duration-normal) var(--ease-spring);
}

.skill-badge.spectacular:hover {
    opacity: 1;
    transform: scale(1.05);
}

.path-actions.spectacular {
    display: flex;
    gap: var(--space-3);
}

.path-btn.spectacular {
    padding: var(--space-3) var(--space-4);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.1);
    color: white;
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-spring);
    display: flex;
    align-items: center;
    gap: var(--space-2);
    flex: 1;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.path-btn.spectacular svg {
    width: 14px;
    height: 14px;
    stroke: currentColor !important;
}

.path-btn.spectacular.primary {
    background: linear-gradient(135deg, var(--knowledge-hub-primary), var(--knowledge-hub-primary-dark));
    border-color: var(--knowledge-hub-primary);
}

.path-btn.spectacular.primary:hover {
    background: linear-gradient(135deg, var(--knowledge-hub-primary-light), var(--knowledge-hub-primary));
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
}

.path-btn.spectacular.secondary:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
}

.path-btn.spectacular.tertiary {
    flex: 0 0 auto;
    padding: var(--space-3);
}

.path-btn.spectacular.tertiary:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px) scale(1.05);
}

.btn-shimmer {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    animation: shimmer 3s infinite;
}

/* Shimmer animations consolidated in animations.css */

.resource-hover-effects {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    transition: opacity var(--duration-normal) var(--ease-in-out);
}

.enhanced-resource-card.spectacular:hover .resource-hover-effects {
    opacity: 1;
}

.hover-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--knowledge-hub-primary);
    border-radius: 50%;
    animation: knowledgeHoverParticle 1s ease-out infinite;
}

.hover-particle:nth-child(1) {
    top: 20%;
    left: 20%;
    animation-delay: 0s;
}

.hover-particle:nth-child(2) {
    top: 60%;
    right: 30%;
    animation-delay: 0.3s;
}

.hover-particle:nth-child(3) {
    bottom: 30%;
    left: 70%;
    animation-delay: 0.6s;
}

@keyframes knowledgeHoverParticle {
    0% {
        opacity: 0;
        transform: scale(0) translateY(0);
    }

    50% {
        opacity: 1;
        transform: scale(1) translateY(-10px);
    }

    100% {
        opacity: 0;
        transform: scale(0) translateY(-20px);
    }
}

/* ENHANCED RESOURCE CARDS */
.enhanced-resource-card.spectacular {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(15px);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all var(--duration-normal) var(--ease-spring);
    color: white !important;
    box-shadow: 0 8px 20px rgba(99, 102, 241, 0.2);
    position: relative;
    overflow: hidden;
    animation: spectacularEntrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
}

.enhanced-resource-card.spectacular::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(180deg, var(--knowledge-accent-2), var(--knowledge-accent-3));
    transform: scaleY(0);
    transition: transform var(--duration-normal) var(--ease-spring);
}

.enhanced-resource-card.spectacular:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 25px 50px rgba(99, 102, 241, 0.4);
    border-color: rgba(255, 255, 255, 0.3);
}

.enhanced-resource-card.spectacular:hover::before {
    transform: scaleY(1);
}

/* Removed duplicate pseudo-element badges - using JavaScript-generated badges instead */

.resource-header.spectacular {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-4);
}

.resource-icon.spectacular {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    color: white;
    margin-bottom: var(--space-3);
}

.resource-icon.spectacular.course {
    background: rgba(16, 185, 129, 0.2);
    color: var(--success-200);
}

.resource-icon.spectacular.documentation {
    background: rgba(6, 182, 212, 0.2);
    color: #67e8f9;
}

.resource-icon.spectacular.workshop {
    background: rgba(245, 158, 11, 0.2);
    color: var(--warning-200);
}

.resource-icon.spectacular.playbook {
    background: rgba(139, 92, 246, 0.2);
    color: #c4b5fd;
}

.resource-icon.spectacular.training {
    background: rgba(239, 68, 68, 0.2);
    color: #fca5a5;
}

.resource-icon.spectacular svg {
    width: 20px;
    height: 20px;
    stroke: currentColor !important;
}

.resource-badges.spectacular {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.badge.spectacular {
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.badge.spectacular.new {
    background: rgba(16, 185, 129, 0.2);
    color: #86efac;
}

.badge.spectacular.featured {
    background: rgba(245, 158, 11, 0.2);
    color: #fcd34d;
}

.badge.spectacular.difficulty.success {
    background: rgba(16, 185, 129, 0.2);
    color: #86efac;
}

.badge.spectacular.difficulty.warning {
    background: rgba(245, 158, 11, 0.2);
    color: #fcd34d;
}

.badge.spectacular.difficulty.danger {
    background: rgba(239, 68, 68, 0.2);
    color: #fca5a5;
}

.badge.spectacular.ai-score {
    background: linear-gradient(135deg, var(--knowledge-accent-1), var(--knowledge-accent-2));
    color: white;
    animation: pulse 2s ease-in-out infinite;
}

.resource-content.spectacular {
    margin-bottom: var(--space-4);
}

.resource-title.spectacular {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: white !important;
    margin: 0 0 var(--space-2) 0;
    line-height: 1.3;
}

.resource-summary.spectacular {
    font-size: var(--font-size-sm);
    color: rgba(255, 255, 255, 0.8) !important;
    line-height: 1.5;
    margin: 0 0 var(--space-3) 0;
}

.resource-meta.spectacular {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
}

.meta-item.spectacular {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7) !important;
}

.meta-item.spectacular svg {
    width: 14px;
    height: 14px;
    stroke: currentColor !important;
}

.resource-stats.spectacular {
    display: flex;
    justify-content: space-around;
    margin-bottom: var(--space-3);
    padding: var(--space-3);
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
}

.stat.spectacular {
    text-align: center;
}

.stat.spectacular .stat-value {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: white !important;
    margin-bottom: var(--space-1);
}

.stat.spectacular .stat-label {
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.7) !important;
}

.resource-tags.spectacular {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin-bottom: var(--space-4);
}

.resource-tag.spectacular {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8) !important;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 500;
}

.resource-actions.spectacular {
    display: flex;
    gap: var(--space-2);
}

.resource-btn.spectacular {
    padding: var(--space-2) var(--space-3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.1);
    color: white !important;
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-spring);
    display: flex;
    align-items: center;
    gap: var(--space-2);
    flex: 1;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.resource-btn.spectacular svg {
    width: 14px;
    height: 14px;
    stroke: currentColor !important;
}

.resource-btn.spectacular.primary {
    background: linear-gradient(135deg, var(--knowledge-hub-primary), var(--knowledge-hub-primary-dark));
    border-color: var(--knowledge-hub-primary);
}

.resource-btn.spectacular.primary:hover {
    background: linear-gradient(135deg, var(--knowledge-hub-primary-light), var(--knowledge-hub-primary));
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
}

.resource-btn.spectacular.secondary {
    background: rgba(255, 255, 255, 0.15);
    color: white !important;
    border-color: rgba(255, 255, 255, 0.3);
}

.resource-btn.spectacular.secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
    background: rgba(255, 255, 255, 0.15) !important;
    color: white !important;
}

.resource-btn.spectacular.tertiary {
    flex: 0 0 auto;
    padding: var(--space-3);
}

.resource-btn.spectacular.tertiary:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px) scale(1.05);
}

/* SPECTACULAR FILTERS - NO EXTRA SPACE */
.enhanced-filters.spectacular {
    padding: var(--space-4) 0 !important;
    /* Remove side padding, no bottom margin */
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.05);
    margin: 0 !important;
    /* Remove all margins - use parent gap */
}

.filter-section {
    margin-bottom: var(--space-4);
}

.filter-section:last-child {
    margin-bottom: 0;
}

.filter-title.spectacular {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: white;
    margin: 0 0 var(--space-3) 0;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.filter-chips.spectacular {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.filter-chip.spectacular {
    padding: var(--space-2) var(--space-3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-in-out);
    display: flex;
    align-items: center;
    gap: var(--space-2);
    white-space: nowrap;
}

.filter-chip.spectacular:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
    color: white;
    transform: translateY(-1px);
}

.filter-chip.spectacular.active {
    background: var(--knowledge-hub-primary);
    color: white;
    border-color: var(--knowledge-hub-primary);
    box-shadow: var(--shadow-sm);
}

.chip-icon {
    font-size: var(--font-size-sm);
}

.chip-count {
    background: rgba(255, 255, 255, 0.2);
    color: rgba(255, 255, 255, 0.9);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: 600;
}

/* SPECTACULAR NOTIFICATIONS */
.knowledge-notification.spectacular {
    position: fixed;
    top: var(--space-6);
    right: var(--space-6);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-xl);
    padding: var(--space-4);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    z-index: 10000;
    max-width: 400px;
    transform: translateX(100%);
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    color: white;
}

.knowledge-notification.spectacular.success {
    border-left: 4px solid var(--success-500);
}

.knowledge-notification.spectacular.info {
    border-left: 4px solid var(--knowledge-hub-primary);
}

.knowledge-notification.spectacular.warning {
    border-left: 4px solid var(--warning-500);
}

.knowledge-notification.spectacular.error {
    border-left: 4px solid var(--error-500);
}

.notification-content.spectacular {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
}

.notification-icon {
    font-size: var(--font-size-lg);
    flex-shrink: 0;
}

.notification-text {
    flex: 1;
    font-weight: 500;
    line-height: 1.4;
}

.notification-close {
    background: none;
    border: none;
    cursor: pointer;
    padding: var(--space-1);
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    transition: all var(--duration-normal) var(--ease-in-out);
    flex-shrink: 0;
}

.notification-close:hover {
    background: rgba(0, 0, 0, 0.1);
    color: white;
}

.notification-close svg {
    width: 16px;
    height: 16px;
    stroke: currentColor !important;
}

/* RESPONSIVE DESIGN */
@media (max-width: 1024px) {
    .enhanced-knowledge-hub.spectacular-mode {
        padding: var(--space-6);
        animation: spectralGlow 8s ease-in-out infinite;
    }

    .ai-insights-grid.spectacular {
        grid-template-columns: 1fr;
    }

    .analytics-grid.spectacular {
        grid-template-columns: repeat(2, 1fr);
    }

    .learning-paths-grid.spectacular {
        grid-template-columns: 1fr;
    }

    .resources-container.spectacular.grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
}

@media (max-width: 768px) {
    .enhanced-knowledge-hub.spectacular-mode {
        padding: var(--space-4);
        animation: subtlePulse 6s ease-in-out infinite;
    }

    .hub-header.spectacular {
        flex-direction: column;
        gap: var(--space-4);
        align-items: stretch;
    }

    .hub-controls.spectacular {
        align-items: stretch;
        flex-direction: column;
        gap: var(--space-3);
    }

    .search-container.spectacular {
        width: 100%;
    }

    .analytics-grid.spectacular {
        grid-template-columns: 1fr;
    }

    .section-header.spectacular {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-3);
    }

    .section-actions.spectacular {
        justify-content: center;
    }

    .resources-container.spectacular.grid {
        grid-template-columns: 1fr;
    }

    .resource-actions.spectacular {
        flex-direction: column;
    }

    /* Reduce particle count on mobile */
    .knowledge-particle:nth-child(n+8) {
        display: none;
    }

    .knowledge-sparkle:nth-child(n+6) {
        display: none;
    }
}

@media (max-width: 480px) {
    .enhanced-knowledge-hub.spectacular-mode {
        padding: var(--space-3);
        border-radius: var(--radius-xl);
        /* Reduce blur effects for better readability on mobile */
        backdrop-filter: blur(3px) !important;
        -webkit-backdrop-filter: blur(3px) !important;
        /* Slower animations for better performance */
        animation: knowledgeBackgroundShift 60s linear infinite;
    }

    .enhanced-knowledge-hub.spectacular-mode .ai-insight-card,
    .enhanced-knowledge-hub.spectacular-mode .analytics-card,
    .enhanced-knowledge-hub.spectacular-mode .learning-path-card,
    .enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card {
        backdrop-filter: blur(3px) !important;
        -webkit-backdrop-filter: blur(3px) !important;
    }

    .hub-title.spectacular {
        font-size: var(--font-size-2xl);
    }

    .filter-chips.spectacular {
        gap: var(--space-1);
    }

    .filter-chip.spectacular {
        padding: var(--space-1) var(--space-2);
        font-size: var(--font-size-xs);
    }

    .knowledge-notification.spectacular {
        top: var(--space-4);
        right: var(--space-4);
        left: var(--space-4);
        max-width: none;
    }

    /* Minimal particles */
    .knowledge-particle:nth-child(n+5) {
        display: none;
    }

    /* Reduce motion for users who prefer it */
    @media (prefers-reduced-motion: reduce) {
        .enhanced-knowledge-hub.spectacular-mode {
            animation: none !important;
        }

        .enhanced-knowledge-hub.spectacular-mode *,
        .enhanced-knowledge-hub.spectacular-mode *::before,
        .enhanced-knowledge-hub.spectacular-mode *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    .knowledge-sparkle:nth-child(n+4) {
        display: none;
    }
}

/* PERFORMANCE OPTIMIZATIONS */
@media (prefers-reduced-motion: reduce) {

    .enhanced-knowledge-hub.spectacular-mode,
    .enhanced-knowledge-hub.spectacular-mode::before,
    .enhanced-knowledge-hub.spectacular-mode::after,
    .knowledge-particle,
    .knowledge-sparkle,
    .knowledge-energy-ring {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Dark mode enhancements */
/* 🌙 DARK MODE SUPPORT - MATCHING TASK SYSTEM */
[data-theme="dark"] .enhanced-knowledge-hub.spectacular-mode {
    /* Enhanced dark mode background matching task system */
    background:
        /* Animated gradient waves for dark mode */
        linear-gradient(45deg, var(--primary-400) 0%, transparent 50%, var(--primary-400) 100%),
        linear-gradient(-45deg, var(--primary-500) 0%, transparent 50%, var(--primary-500) 100%),
        linear-gradient(90deg, transparent 0%, rgba(139, 92, 246, 0.5) 25%, transparent 50%, rgba(6, 182, 212, 0.5) 75%, transparent 100%),
        /* Primary gradient base for dark mode */
        linear-gradient(135deg, var(--primary-600) 0%, var(--primary-700) 100%),
        /* Enhanced accent gradients for dark mode */
        radial-gradient(ellipse 1200px 800px at 20% 20%, rgba(139, 92, 246, 0.6) 0%, transparent 50%),
        radial-gradient(ellipse 800px 1200px at 80% 80%, rgba(6, 182, 212, 0.5) 0%, transparent 50%),
        radial-gradient(ellipse 600px 600px at 50% 50%, rgba(16, 185, 129, 0.4) 0%, transparent 70%),
        radial-gradient(ellipse 600px 600px at 10% 80%, rgba(245, 158, 11, 0.4) 0%, transparent 60%),
        /* Dark mode texture overlay */
        repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(255, 255, 255, 0.1) 2px, rgba(255, 255, 255, 0.1) 4px),
        repeating-linear-gradient(-45deg, transparent, transparent 4px, rgba(255, 255, 255, 0.05) 4px, rgba(255, 255, 255, 0.05) 8px) !important;

    border-color: rgba(255, 255, 255, 0.1);
    color: #f8fafc;
}

/* GPU acceleration for smooth performance */
.enhanced-knowledge-hub.spectacular-mode,
.enhanced-knowledge-hub.spectacular-mode::before,
.enhanced-knowledge-hub.spectacular-mode::after,
.knowledge-particle,
.knowledge-sparkle,
.knowledge-energy-ring,
.ai-insight-card.spectacular,
.analytics-card.spectacular,
.learning-path-card.spectacular,
.enhanced-resource-card.spectacular {
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Ensure all headings and text are white in spectacular mode */
.enhanced-knowledge-hub.spectacular-mode h1,
.enhanced-knowledge-hub.spectacular-mode h2,
.enhanced-knowledge-hub.spectacular-mode h3,
.enhanced-knowledge-hub.spectacular-mode h4,
.enhanced-knowledge-hub.spectacular-mode h5,
.enhanced-knowledge-hub.spectacular-mode h6,
.enhanced-knowledge-hub.spectacular-mode p,
.enhanced-knowledge-hub.spectacular-mode span,
.enhanced-knowledge-hub.spectacular-mode div,
.enhanced-knowledge-hub.spectacular-mode .resource-title,
.enhanced-knowledge-hub.spectacular-mode .resource-summary,
.enhanced-knowledge-hub.spectacular-mode .meta-item,
.enhanced-knowledge-hub.spectacular-mode .stat-value,
.enhanced-knowledge-hub.spectacular-mode .stat-label,
.enhanced-knowledge-hub.spectacular-mode .resource-tag,
.enhanced-knowledge-hub.spectacular-mode .notification-text,
.enhanced-knowledge-hub.spectacular-mode .notification-close {
    color: white !important;
}

/* Force all content in resource cards to be white */
.enhanced-resource-card.spectacular,
.enhanced-resource-card.spectacular *,
.enhanced-resource-card.spectacular h1,
.enhanced-resource-card.spectacular h2,
.enhanced-resource-card.spectacular h3,
.enhanced-resource-card.spectacular h4,
.enhanced-resource-card.spectacular h5,
.enhanced-resource-card.spectacular h6,
.enhanced-resource-card.spectacular p,
.enhanced-resource-card.spectacular span,
.enhanced-resource-card.spectacular div {
    color: white !important;
    background-color: transparent !important;
}

/* Ensure no white backgrounds on any sub-elements */
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card *,
.enhanced-knowledge-hub.spectacular-mode .ai-insight-card *,
.enhanced-knowledge-hub.spectacular-mode .learning-path-card *,
.enhanced-knowledge-hub.spectacular-mode .analytics-card * {
    background-color: transparent !important;
    color: white !important;
}

/* Force white on all SVG elements */
.enhanced-knowledge-hub.spectacular-mode svg,
.enhanced-knowledge-hub.spectacular-mode svg *,
.enhanced-knowledge-hub.spectacular-mode svg path,
.enhanced-knowledge-hub.spectacular-mode svg circle,
.enhanced-knowledge-hub.spectacular-mode svg line,
.enhanced-knowledge-hub.spectacular-mode svg polyline,
.enhanced-knowledge-hub.spectacular-mode svg polygon,
.enhanced-knowledge-hub.spectacular-mode svg rect {
    stroke: white !important;
    fill: none !important;
    color: white !important;
}

/* 🚨 CRITICAL FIX: Override main.css white backgrounds for knowledge hub cards */
html body .enhanced-knowledge-hub.spectacular-mode .ai-insight-card,
/* REMOVED CONFLICTING WHITE BACKGROUND RULE #1 */

/* ENHANCED PROGRESS RING SVG ELEMENTS - COMPLETION */
.progress-ring.spectacular circle {
    fill: none;
    stroke-width: 6;
    stroke-linecap: round;
}

.progress-ring.spectacular circle:first-child {
    stroke: rgba(255, 255, 255, 0.2);
}

.progress-ring.spectacular circle:last-child {
    stroke: url(#progressGradient);
    stroke-dasharray: 283;
    stroke-dashoffset: 283;
    transition: stroke-dashoffset 1.5s var(--ease-spring);
}

/* Progress gradient definition */
.progress-ring.spectacular defs {
    display: block;
}

.progress-ring.spectacular .progress-gradient {
    --start-color: var(--knowledge-hub-primary);
    --end-color: var(--knowledge-hub-primary-dark);
}

/* Enhanced progress ring container with spectacular effects */
.progress-ring-container {
    position: relative;
    width: 120px;
    height: 120px;
    margin: 0 auto var(--space-4) auto;
}

.progress-ring-container::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    border-radius: 50%;
    background: linear-gradient(45deg, var(--knowledge-accent-1), var(--knowledge-accent-2), var(--knowledge-accent-3));
    opacity: 0.3;
    z-index: -1;
    animation: knowledgeProgressGlow 3s ease-in-out infinite;
}

@keyframes knowledgeProgressGlow {

    0%,
    100% {
        opacity: 0.3;
        transform: scale(1);
    }

    50% {
        opacity: 0.6;
        transform: scale(1.05);
    }
}

.progress-ring.spectacular {
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
    filter: drop-shadow(0 4px 8px rgba(99, 102, 241, 0.3));
}

/* Enhanced progress center with better styling */
.progress-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 2;
}

.progress-value {
    display: block;
    font-size: var(--font-size-2xl);
    font-weight: 800;
    color: white;
    line-height: 1;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.progress-label {
    display: block;
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.8);
    margin-top: var(--space-1);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 600;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* ENHANCED SKILL GAP PROGRESS BARS - COMPLETION */
.gap-progress.spectacular {
    width: 80px;
    height: 8px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-full);
    overflow: hidden;
    position: relative;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.gap-fill {
    height: 100%;
    border-radius: var(--radius-full);
    transition: width var(--duration-normal) var(--ease-spring);
    position: relative;
    background: linear-gradient(90deg, var(--error-400), var(--error-500));
}

.gap-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: shimmer 2s infinite;
}

/* Shimmer animations consolidated in animations.css */

.gap-fill.urgent {
    background: linear-gradient(90deg, var(--error-400), var(--error-500));
    width: 90%;
    box-shadow: 0 0 8px rgba(239, 68, 68, 0.4);
}

.gap-fill.important {
    background: linear-gradient(90deg, var(--warning-400), var(--warning-500));
    width: 70%;
    box-shadow: 0 0 8px rgba(245, 158, 11, 0.4);
}

.gap-fill.nice-to-have {
    background: linear-gradient(90deg, var(--success-400), var(--success-500));
    width: 40%;
    box-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
}

/* Enhanced skill gap item styling */
.skill-gap-item.spectacular {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-xl);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    transition: all var(--duration-normal) var(--ease-spring);
    position: relative;
    overflow: hidden;
}

.skill-gap-item.spectacular::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 3px;
    height: 100%;
    background: linear-gradient(180deg, var(--error-400), var(--error-500));
    transform: scaleY(0);
    transition: transform var(--duration-normal) var(--ease-spring);
}

.skill-gap-item.spectacular.priority-urgent::before {
    background: linear-gradient(180deg, var(--error-400), var(--error-500));
}

.skill-gap-item.spectacular.priority-important::before {
    background: linear-gradient(180deg, var(--warning-400), var(--warning-500));
}

.skill-gap-item.spectacular.priority-nice-to-have::before {
    background: linear-gradient(180deg, var(--success-400), var(--success-500));
}

.skill-gap-item.spectacular:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.1) 100%);
    transform: translateX(6px) translateY(-2px);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
    border-color: rgba(255, 255, 255, 0.25);
}

.skill-gap-item.spectacular:hover::before {
    transform: scaleY(1);
}

/* Enhanced gap info styling */
.gap-info {
    flex: 1;
    min-width: 0;
}

.gap-skill {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: 700;
    color: white;
    line-height: 1.3;
    margin-bottom: var(--space-1);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.gap-level {
    display: block;
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.8);
    margin-top: var(--space-1);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 500;
}

/* Enhanced gap action button */
.gap-action-btn.spectacular {
    background: linear-gradient(135deg, var(--knowledge-hub-primary), var(--knowledge-hub-primary-dark));
    color: white;
    border: none;
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-xs);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-spring);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
}

.gap-action-btn.spectacular::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left var(--duration-normal) var(--ease-spring);
}

.gap-action-btn.spectacular:hover {
    background: linear-gradient(135deg, var(--knowledge-hub-primary-light), var(--knowledge-hub-primary));
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
}

.gap-action-btn.spectacular:hover::before {
    left: 100%;
}

/* ENHANCED TRENDING TOPICS STYLING - COMPLETION */
.trending-item.spectacular {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-4);
    border-radius: var(--radius-xl);
    transition: all var(--duration-normal) var(--ease-spring);
    cursor: pointer;
    animation: spectacularEntrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    overflow: hidden;
}

.trending-item.spectacular::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 3px;
    height: 100%;
    background: linear-gradient(180deg, var(--knowledge-accent-2), var(--knowledge-accent-3));
    transform: scaleY(0);
    transition: transform var(--duration-normal) var(--ease-spring);
}

.trending-item.spectacular:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    transform: translateX(6px) translateY(-2px);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
    border-color: rgba(255, 255, 255, 0.2);
}

.trending-item.spectacular:hover::before {
    transform: scaleY(1);
}

/* Enhanced trending rank styling */
.trending-rank.spectacular {
    width: 32px;
    height: 32px;
    border-radius: var(--radius-lg);
    background: linear-gradient(135deg, var(--knowledge-hub-primary), var(--knowledge-hub-primary-dark));
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-sm);
    font-weight: 700;
    flex-shrink: 0;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
}

.trending-rank.spectacular::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.2) 50%, transparent 70%);
    animation: shimmer 2s ease-in-out infinite;
}

/* Shimmer animations consolidated in animations.css */

/* Enhanced trending info styling */
.trending-info {
    flex: 1;
    min-width: 0;
}

.trending-title {
    display: block;
    font-size: var(--font-size-base);
    font-weight: 600;
    color: white;
    line-height: 1.3;
    margin-bottom: var(--space-2);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.trending-stats {
    display: block;
    font-size: var(--font-size-sm);
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.2;
    font-weight: 500;
}

/* Enhanced trending spark animation */
.trending-spark {
    font-size: var(--font-size-lg);
    animation: knowledgeTrendingSpark 3s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6));
}

@keyframes knowledgeTrendingSpark {

    0%,
    100% {
        opacity: 0.6;
        transform: scale(1) rotate(0deg);
    }

    25% {
        opacity: 1;
        transform: scale(1.2) rotate(90deg);
    }

    50% {
        opacity: 0.8;
        transform: scale(1.1) rotate(180deg);
    }

    75% {
        opacity: 1;
        transform: scale(1.3) rotate(270deg);
    }
}

/* ENHANCED ANALYTICS CARD INTERACTION EFFECTS */
.analytics-card.spectacular.progress-card:hover {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(16, 185, 129, 0.1) 100%) !important;
    border-color: rgba(16, 185, 129, 0.3);
}

.analytics-card.spectacular.skill-gaps-card:hover {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.2) 0%, rgba(245, 158, 11, 0.1) 100%) !important;
    border-color: rgba(245, 158, 11, 0.3);
}

.analytics-card.spectacular.trending-card:hover {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(139, 92, 246, 0.1) 100%) !important;
    border-color: rgba(139, 92, 246, 0.3);
}

/* Enhanced analytics card headers */
.analytics-card.spectacular .card-header.spectacular {
    margin-bottom: var(--space-5);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    position: relative;
}

.analytics-card.spectacular .card-header.spectacular::after {
    content: '';
    position: absolute;
    bottom: -var(--space-3);
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
}

.analytics-card.spectacular .card-header.spectacular h4 {
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: white;
    margin: 0;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
}

/* Enhanced AI powered badge */
.ai-powered-badge {
    background: linear-gradient(135deg, var(--knowledge-accent-1), var(--knowledge-accent-2));
    color: white;
    padding: var(--space-1) var(--space-3);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    animation: pulse 2s ease-in-out infinite;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
    position: relative;
    overflow: hidden;
}

.ai-powered-badge::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 3s ease-in-out infinite;
}

/* Shimmer animations consolidated in animations.css */

/* RESPONSIVE ENHANCEMENTS FOR ANALYTICS SECTION */
@media (max-width: 1024px) {
    .analytics-grid.spectacular {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-4);
    }

    .progress-ring-container {
        width: 100px;
        height: 100px;
    }

    .trending-item.spectacular {
        padding: var(--space-3);
        gap: var(--space-3);
    }

    .skill-gap-item.spectacular {
        padding: var(--space-3);
        gap: var(--space-2);
    }
}

@media (max-width: 768px) {
    .analytics-grid.spectacular {
        grid-template-columns: 1fr;
        gap: var(--space-4);
    }

    .progress-ring-container {
        width: 80px;
        height: 80px;
    }

    .progress-value {
        font-size: var(--font-size-lg);
    }

    .trending-title {
        font-size: var(--font-size-sm);
    }

    .gap-skill {
        font-size: var(--font-size-xs);
    }

    .gap-progress.spectacular {
        width: 60px;
        height: 6px;
    }
}

/* PERFORMANCE OPTIMIZATIONS FOR ANALYTICS */
.analytics-card.spectacular,
.analytics-card.spectacular::before,
.progress-ring-container,
.progress-ring-container::before,
.skill-gap-item.spectacular,
.trending-item.spectacular {
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* ACCESSIBILITY ENHANCEMENTS FOR ANALYTICS */
.analytics-card.spectacular:focus-within {
    outline: 3px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
}

.skill-gap-item.spectacular[tabindex="0"]:focus,
.trending-item.spectacular[tabindex="0"]:focus {
    outline: 2px solid rgba(255, 255, 255, 0.8);
    outline-offset: 2px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.12) 100%);
}

/* HIGH CONTRAST MODE SUPPORT FOR ANALYTICS */
@media (prefers-contrast: high) {
    .analytics-card.spectacular {
        background: rgba(0, 0, 0, 0.9) !important;
        border: 2px solid #ffffff !important;
    }

    .progress-ring.spectacular circle {
        stroke-width: 8;
    }

    .gap-fill,
    .trending-rank.spectacular {
        border: 1px solid #ffffff;
    }
}

/* REDUCED MOTION SUPPORT FOR ANALYTICS */
@media (prefers-reduced-motion: reduce) {

    .progress-ring-container::before,
    .gap-fill::after,
    .trending-rank.spectacular::before,
    .trending-spark,
    .ai-powered-badge::before {
        animation: none !important;
    }

    .skill-gap-item.spectacular:hover,
    .trending-item.spectacular:hover {
        transform: none !important;
    }
}

/* 🔧 ENHANCED FIXES FOR RESOURCE CARDS - Combat any white background overrides */
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card,
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card *,
html body .enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card,
html body .enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card * {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%) !important;
    background-color: transparent !important;
    color: white !important;
}

/* 🎯 SPECIFIC FIXES FOR RESOURCE CARD COMPONENTS */
.enhanced-knowledge-hub.spectacular-mode .resource-header,
.enhanced-knowledge-hub.spectacular-mode .resource-content,
.enhanced-knowledge-hub.spectacular-mode .resource-actions,
.enhanced-knowledge-hub.spectacular-mode .resource-meta,
.enhanced-knowledge-hub.spectacular-mode .resource-stats,
.enhanced-knowledge-hub.spectacular-mode .resource-tags {
    background: transparent !important;
    background-color: transparent !important;
    color: white !important;
}

/* 🔧 FIX BUTTON STYLING - No more white on white */
.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular.primary {
    background: linear-gradient(135deg, var(--knowledge-hub-primary), var(--knowledge-hub-primary-dark)) !important;
    border: 1px solid var(--knowledge-hub-primary) !important;
    color: white !important;
    font-weight: 600 !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular.secondary {
    background: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    color: white !important;
    font-weight: 600 !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular.tertiary {
    background: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    color: white !important;
    font-weight: 600 !important;
}

/* 🔧 FIX BUTTON HOVER STATES */
.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular.primary:hover {
    background: linear-gradient(135deg, var(--knowledge-hub-primary-light), var(--knowledge-hub-primary)) !important;
    color: white !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular.secondary:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
    color: white !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular.tertiary:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
    color: white !important;
    transform: translateY(-2px) scale(1.05) !important;
    box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1) !important;
}

/* 🔧 FIX ALIGNMENT ISSUES IN KNOWLEDGE HUB */
.enhanced-knowledge-hub.spectacular-mode .hub-header.spectacular {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-6);
    padding-bottom: var(--space-4);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    position: relative;
    z-index: 2;
    background: none !important;
    background-color: transparent !important;
    gap: var(--space-4);
    flex-wrap: wrap;
    width: 100%;
    min-height: auto;
}

.enhanced-knowledge-hub.spectacular-mode .header-content {
    flex: 1;
    min-width: 300px;
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.enhanced-knowledge-hub.spectacular-mode .header-actions.spectacular {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    flex-wrap: wrap;
    justify-content: flex-end;
    flex-shrink: 0;
    min-width: 300px;
}

/* 🔧 FIX SEARCH CONTAINER ALIGNMENT */
.enhanced-knowledge-hub.spectacular-mode .search-container.spectacular {
    position: relative;
    width: 320px;
    min-width: 280px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(15px);
    border-radius: var(--radius-xl);
    padding: var(--space-3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2);
    display: flex !important;
    align-items: center !important;
    height: 56px;
}

/* 🔧 FIX FILTER CONTROLS ALIGNMENT */
.enhanced-knowledge-hub.spectacular-mode .filter-controls.spectacular {
    display: flex;
    gap: var(--space-3);
    align-items: center;
    flex-wrap: wrap;
}

.enhanced-knowledge-hub.spectacular-mode .filter-select.spectacular {
    padding: var(--space-2) var(--space-3);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.1);
    color: white;
    font-size: var(--font-size-sm);
    font-weight: 500;
    min-width: 150px;
}

.enhanced-knowledge-hub.spectacular-mode .view-toggle.spectacular {
    padding: var(--space-2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.1);
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--duration-normal) var(--ease-spring);
}

.enhanced-knowledge-hub.spectacular-mode .view-toggle.spectacular:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-1px);
}

/* 🔧 FIX RESOURCES CONTAINER LAYOUT */
.enhanced-knowledge-hub.spectacular-mode .resources-container.spectacular {
    display: grid;
    gap: var(--space-6);
    width: 100%;
    margin-top: var(--space-6);
}

.enhanced-knowledge-hub.spectacular-mode .resources-container.spectacular.grid {
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
}

.enhanced-knowledge-hub.spectacular-mode .resources-container.spectacular.list {
    grid-template-columns: 1fr;
}

/* 🔧 FIX SECTION HEADER ALIGNMENT */
.enhanced-knowledge-hub.spectacular-mode .section-header.spectacular {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-6);
    flex-wrap: wrap;
    gap: var(--space-4);
}

.enhanced-knowledge-hub.spectacular-mode .section-actions.spectacular {
    display: flex;
    gap: var(--space-2);
    align-items: center;
    flex-wrap: wrap;
}

/* 🔧 ENSURE PROPER SPACING IN AI INSIGHTS GRID */
.enhanced-knowledge-hub.spectacular-mode .ai-insights-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--knowledge-card-gap);
    margin-top: 0 !important;
    /* Use parent gap instead */
}

/* 🔧 ENSURE PROPER SPACING IN ANALYTICS GRID */
.enhanced-knowledge-hub.spectacular-mode .analytics-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-6);
    margin-top: var(--space-4);
}

/* 🔧 ENSURE PROPER SPACING IN LEARNING PATHS GRID */
.enhanced-knowledge-hub.spectacular-mode .learning-paths-grid.spectacular {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-6);
    margin-top: var(--space-4);
}

/* 🔧 FIX RESPONSIVE LAYOUT ISSUES */
@media (max-width: 1024px) {
    .enhanced-knowledge-hub.spectacular-mode .hub-header.spectacular {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-4);
    }

    .enhanced-knowledge-hub.spectacular-mode .header-content {
        min-width: auto;
        text-align: center;
    }

    .enhanced-knowledge-hub.spectacular-mode .header-actions.spectacular {
        justify-content: center;
        min-width: auto;
    }

    .enhanced-knowledge-hub.spectacular-mode .search-container.spectacular {
        width: 100%;
        max-width: 400px;
    }

    .enhanced-knowledge-hub.spectacular-mode .ai-insights-grid.spectacular {
        grid-template-columns: 1fr;
    }

    .enhanced-knowledge-hub.spectacular-mode .analytics-grid.spectacular {
        grid-template-columns: repeat(2, 1fr);
    }

    .enhanced-knowledge-hub.spectacular-mode .learning-paths-grid.spectacular {
        grid-template-columns: 1fr;
    }

    .enhanced-knowledge-hub.spectacular-mode .resources-container.spectacular.grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
}

@media (max-width: 768px) {
    .enhanced-knowledge-hub.spectacular-mode .hub-header.spectacular {
        padding: var(--space-4);
    }

    .enhanced-knowledge-hub.spectacular-mode .header-actions.spectacular {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-3);
    }

    .enhanced-knowledge-hub.spectacular-mode .filter-controls.spectacular {
        justify-content: center;
    }

    .enhanced-knowledge-hub.spectacular-mode .section-header.spectacular {
        flex-direction: column;
        align-items: stretch;
        text-align: center;
        gap: var(--space-3);
    }

    .enhanced-knowledge-hub.spectacular-mode .section-actions.spectacular {
        justify-content: center;
    }

    .enhanced-knowledge-hub.spectacular-mode .analytics-grid.spectacular {
        grid-template-columns: 1fr;
    }

    .enhanced-knowledge-hub.spectacular-mode .resources-container.spectacular.grid {
        grid-template-columns: 1fr;
    }

    .enhanced-knowledge-hub.spectacular-mode .resource-actions.spectacular {
        flex-direction: column;
        gap: var(--space-2);
    }

    .enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .enhanced-knowledge-hub.spectacular-mode {
        padding: var(--space-3);
        border-radius: var(--radius-xl);
    }

    .enhanced-knowledge-hub.spectacular-mode .hub-title.spectacular {
        font-size: var(--font-size-2xl);
        text-align: center;
    }

    .enhanced-knowledge-hub.spectacular-mode .search-container.spectacular {
        padding: var(--space-2);
    }

    .enhanced-knowledge-hub.spectacular-mode .filter-controls.spectacular {
        flex-direction: column;
        align-items: stretch;
    }

    .enhanced-knowledge-hub.spectacular-mode .filter-select.spectacular {
        width: 100%;
    }
}

/* 🔧 ENHANCED RESOURCE CARD FIXES WITH FORCED DISPLAY */
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card,
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular {
    display: block !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%) !important;
    backdrop-filter: blur(15px) !important;
    -webkit-backdrop-filter: blur(15px) !important;
    border-radius: var(--radius-xl) !important;
    padding: var(--space-6) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    transition: all var(--duration-normal) var(--ease-spring) !important;
    color: white !important;
    box-shadow: 0 8px 20px rgba(99, 102, 241, 0.2) !important;
    position: relative !important;
    overflow: hidden !important;
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
    width: 100% !important;
    min-height: 200px !important;
}

/* 🔧 ENSURE RESOURCE CARD TEXT IS VISIBLE */
.enhanced-knowledge-hub.spectacular-mode .resource-title.spectacular {
    font-size: var(--font-size-lg) !important;
    font-weight: 600 !important;
    color: white !important;
    margin: 0 0 var(--space-2) 0 !important;
    line-height: 1.3 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-summary.spectacular {
    font-size: var(--font-size-sm) !important;
    color: rgba(255, 255, 255, 0.8) !important;
    line-height: 1.5 !important;
    margin: 0 0 var(--space-3) 0 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
}

.enhanced-knowledge-hub.spectacular-mode .meta-item.spectacular {
    display: flex !important;
    align-items: center !important;
    gap: var(--space-1) !important;
    font-size: var(--font-size-xs) !important;
    color: rgba(255, 255, 255, 0.7) !important;
    font-weight: 500 !important;
}

.enhanced-knowledge-hub.spectacular-mode .stat-value {
    display: block !important;
    font-size: var(--font-size-sm) !important;
    font-weight: 600 !important;
    color: white !important;
    margin-bottom: var(--space-1) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

.enhanced-knowledge-hub.spectacular-mode .stat-label {
    font-size: var(--font-size-xs) !important;
    color: rgba(255, 255, 255, 0.7) !important;
    font-weight: 500 !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-tag.spectacular {
    background: rgba(255, 255, 255, 0.1) !important;
    color: rgba(255, 255, 255, 0.8) !important;
    padding: var(--space-1) var(--space-2) !important;
    border-radius: var(--radius-md) !important;
    font-size: var(--font-size-xs) !important;
    font-weight: 500 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* 🔧 BUTTON TEXT CONTRAST FIXES */
.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular {
    padding: var(--space-2) var(--space-3) !important;
    border-radius: var(--radius-lg) !important;
    font-size: var(--font-size-sm) !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all var(--duration-normal) var(--ease-spring) !important;
    display: flex !important;
    align-items: center !important;
    gap: var(--space-2) !important;
    flex: 1 !important;
    justify-content: center !important;
    position: relative !important;
    overflow: hidden !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

/* 🔧 BADGE STYLING FIXES */
.enhanced-knowledge-hub.spectacular-mode .badge.spectacular {
    padding: var(--space-1) var(--space-2) !important;
    border-radius: var(--radius-md) !important;
    font-size: var(--font-size-xs) !important;
    font-weight: 500 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.new {
    background: rgba(16, 185, 129, 0.2) !important;
    color: #86efac !important;
    border: 1px solid rgba(16, 185, 129, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.featured {
    background: rgba(245, 158, 11, 0.2) !important;
    color: #fcd34d !important;
    border: 1px solid rgba(245, 158, 11, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.difficulty.success {
    background: rgba(16, 185, 129, 0.2) !important;
    color: #86efac !important;
    border: 1px solid rgba(16, 185, 129, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.difficulty.warning {
    background: rgba(245, 158, 11, 0.2) !important;
    color: #fcd34d !important;
    border: 1px solid rgba(245, 158, 11, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.difficulty.danger {
    background: rgba(239, 68, 68, 0.2) !important;
    color: #fca5a5 !important;
    border: 1px solid rgba(239, 68, 68, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.ai-score {
    background: linear-gradient(135deg, var(--knowledge-accent-1), var(--knowledge-accent-2)) !important;
    color: white !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    animation: pulse 2s ease-in-out infinite !important;
}

/* 🔧 RESOURCE ICON STYLING */
.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular {
    width: 48px !important;
    height: 48px !important;
    border-radius: var(--radius-lg) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: rgba(255, 255, 255, 0.1) !important;
    color: white !important;
    flex-shrink: 0 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular.course {
    background: rgba(16, 185, 129, 0.2) !important;
    color: var(--success-200) !important;
    border-color: rgba(16, 185, 129, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular.documentation {
    background: rgba(6, 182, 212, 0.2) !important;
    color: #67e8f9 !important;
    border-color: rgba(6, 182, 212, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular.workshop {
    background: rgba(245, 158, 11, 0.2) !important;
    color: var(--warning-200) !important;
    border-color: rgba(245, 158, 11, 0.3) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular.playbook {
    background: rgba(139, 92, 246, 0.2) !important;
    color: #c4b5fd !important;
    border-color: rgba(139, 92, 246, 0.3) !important;
}

/* 🔧 RESOURCE STATS CONTAINER */
.enhanced-knowledge-hub.spectacular-mode .resource-stats.spectacular {
    display: flex !important;
    justify-content: space-around !important;
    margin: var(--space-3) 0 !important;
    padding: var(--space-3) !important;
    background: rgba(255, 255, 255, 0.1) !important;
    border-radius: var(--radius-lg) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.enhanced-knowledge-hub.spectacular-mode .stat.spectacular {
    text-align: center !important;
}

/* 🔧 RESOURCE ACTIONS CONTAINER */
.enhanced-knowledge-hub.spectacular-mode .resource-actions.spectacular {
    display: flex !important;
    gap: var(--space-2) !important;
    margin-top: var(--space-4) !important;
}

/* 🔧 SVG ICON FIXES */
.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular svg,
.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular svg,
.enhanced-knowledge-hub.spectacular-mode .meta-item.spectacular svg {
    width: 16px !important;
    height: 16px !important;
    stroke: currentColor !important;
    fill: none !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular svg {
    width: 20px !important;
    height: 20px !important;
}

/* 🔧 RESOURCE CARD HOVER EFFECTS */
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular:hover {
    transform: translateY(-6px) scale(1.02) !important;
    box-shadow: 0 25px 50px rgba(99, 102, 241, 0.4) !important;
    border-color: rgba(255, 255, 255, 0.3) !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.1) 100%) !important;
}

/* 🔧 PREVENT ANY WHITE BACKGROUND OVERRIDES */
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular,
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular *:not(.resource-btn):not(.badge) {
    background-color: transparent !important;
}

/* 🔧 ENSURE PROPER SPACING */
.enhanced-knowledge-hub.spectacular-mode .resource-header.spectacular {
    display: flex !important;
    justify-content: space-between !important;
    align-items: flex-start !important;
    margin-bottom: var(--space-4) !important;
    background: transparent !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-content.spectacular {
    margin-bottom: var(--space-4) !important;
    background: transparent !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-meta.spectacular {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: var(--space-3) !important;
    margin-bottom: var(--space-3) !important;
    background: transparent !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-tags.spectacular {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: var(--space-2) !important;
    margin-bottom: var(--space-4) !important;
    background: transparent !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-badges.spectacular {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: var(--space-2) !important;
    background: transparent !important;
}

/* 🚨 CRITICAL CSS FIXES FOR KNOWLEDGE HUB DISPLAY ISSUES */

/* 🚨 FORCE OVERRIDE ALL MAIN.CSS CONFLICTS */
html body .enhanced-knowledge-hub,
html body .enhanced-knowledge-hub.spectacular-mode,
.dashboard .enhanced-knowledge-hub,
.dashboard .enhanced-knowledge-hub.spectacular-mode {
    display: block !important;
    width: 100% !important;
    position: relative !important;
    z-index: 1 !important;
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
}

/* 🚨 OVERRIDE ANY AI INSIGHT CARD CONFLICTS FROM MAIN.CSS */
html body .enhanced-knowledge-hub.spectacular-mode .ai-insight-card,
/* 🔥 FORCE DARK BACKGROUNDS WITH MAXIMUM SPECIFICITY */
html body .enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular,
html body .enhanced-knowledge-hub.spectacular-mode .analytics-card,
html body .enhanced-knowledge-hub.spectacular-mode .ai-insight-card,
body .enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular,
body .enhanced-knowledge-hub.spectacular-mode .analytics-card,
body .enhanced-knowledge-hub.spectacular-mode .ai-insight-card {
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
    color: white !important;
    opacity: 1 !important;
    transform: none !important;
}

/* 🚨 ULTIMATE BLACK TEXT OVERRIDE - HIGHEST SPECIFICITY */
html body .enhanced-knowledge-hub.spectacular-mode,
html body .enhanced-knowledge-hub.spectacular-mode *,
html body .enhanced-knowledge-hub.spectacular-mode h1,
html body .enhanced-knowledge-hub.spectacular-mode h2,
html body .enhanced-knowledge-hub.spectacular-mode h3,
html body .enhanced-knowledge-hub.spectacular-mode h4,
html body .enhanced-knowledge-hub.spectacular-mode h5,
html body .enhanced-knowledge-hub.spectacular-mode h6,
html body .enhanced-knowledge-hub.spectacular-mode p,
html body .enhanced-knowledge-hub.spectacular-mode span,
html body .enhanced-knowledge-hub.spectacular-mode div,
html body .enhanced-knowledge-hub.spectacular-mode .analytics-title,
html body .enhanced-knowledge-hub.spectacular-mode .section-title,
html body .enhanced-knowledge-hub.spectacular-mode .insights-title,
html body .enhanced-knowledge-hub.spectacular-mode .hub-title,
html body .enhanced-knowledge-hub.spectacular-mode .insight-title,
html body .enhanced-knowledge-hub.spectacular-mode .resource-title,
html body .enhanced-knowledge-hub.spectacular-mode .resource-summary,
html body .enhanced-knowledge-hub.spectacular-mode .trending-title,
html body .enhanced-knowledge-hub.spectacular-mode .gap-skill,
html body .enhanced-knowledge-hub.spectacular-mode .stat-value,
html body .enhanced-knowledge-hub.spectacular-mode .stat-label,
html body .enhanced-knowledge-hub.spectacular-mode .confidence-text,
html body .enhanced-knowledge-hub.spectacular-mode .insight-description,
html body .enhanced-knowledge-hub.spectacular-mode .meta-item,
html body .enhanced-knowledge-hub.spectacular-mode .progress-value,
html body .enhanced-knowledge-hub.spectacular-mode .progress-label,
html body .enhanced-knowledge-hub.spectacular-mode .trending-stats,
html body .enhanced-knowledge-hub.spectacular-mode .gap-level,
html body .enhanced-knowledge-hub.spectacular-mode .notification-text,
.dashboard .enhanced-knowledge-hub.spectacular-mode *:not(input):not(select):not(textarea),
.main-content .enhanced-knowledge-hub.spectacular-mode *:not(input):not(select):not(textarea) {
    color: white !important;
    -webkit-text-fill-color: white !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

/* 🚨 OVERRIDE SPECIFIC BLACK COLOR DECLARATIONS */
html body .enhanced-knowledge-hub.spectacular-mode *[style*="color: black"],
html body .enhanced-knowledge-hub.spectacular-mode *[style*="color: #000"],
html body .enhanced-knowledge-hub.spectacular-mode *[style*="color: #000000"],
html body .enhanced-knowledge-hub.spectacular-mode *[style*="color: #111"],
html body .enhanced-knowledge-hub.spectacular-mode *[style*="color: #1e293b"],
html body .enhanced-knowledge-hub.spectacular-mode *[style*="color: var(--text-primary)"] {
    color: white !important;
    -webkit-text-fill-color: white !important;
}

/* 🚨 OVERRIDE RESPONSIVE SYSTEM BLACK TEXT */
@media (max-width: 768px) {

    html body .enhanced-knowledge-hub.spectacular-mode *,
    .dashboard .enhanced-knowledge-hub.spectacular-mode * {
        color: white !important;
    }
}

/* 🚨 OVERRIDE ANY REMAINING VAR(--TEXT-PRIMARY) USAGE */
html body .enhanced-knowledge-hub.spectacular-mode [style*="var(--text-primary)"],
html body .enhanced-knowledge-hub.spectacular-mode .insight-title,
html body .enhanced-knowledge-hub.spectacular-mode .analytics-title,
html body .enhanced-knowledge-hub.spectacular-mode .section-title,
html body .enhanced-knowledge-hub.spectacular-mode .hub-title,
html body .enhanced-knowledge-hub.spectacular-mode .card-header h4,
.dashboard .enhanced-knowledge-hub.spectacular-mode .analytics-card h4,
.dashboard .enhanced-knowledge-hub.spectacular-mode .learning-path-card h4 {
    color: white !important;
    -webkit-text-fill-color: white !important;
}

/* 🚨 FORCE WHITE TEXT ON ALL ANALYTICS ELEMENTS */
html body .enhanced-knowledge-hub.spectacular-mode .learning-analytics *,
html body .enhanced-knowledge-hub.spectacular-mode .analytics-grid *,
html body .enhanced-knowledge-hub.spectacular-mode .analytics-card *,
html body .enhanced-knowledge-hub.spectacular-mode .progress-stat *,
html body .enhanced-knowledge-hub.spectacular-mode .skill-gap-item *,
html body .enhanced-knowledge-hub.spectacular-mode .trending-item *,
.dashboard .enhanced-knowledge-hub.spectacular-mode .learning-analytics *,
.dashboard .enhanced-knowledge-hub.spectacular-mode .analytics-grid *,
.dashboard .enhanced-knowledge-hub.spectacular-mode .analytics-card * {
    color: white !important;
    -webkit-text-fill-color: white !important;
}

/* 🚨 ENSURE SVG ICONS ARE WHITE */
html body .enhanced-knowledge-hub.spectacular-mode svg,
html body .enhanced-knowledge-hub.spectacular-mode svg *,
.dashboard .enhanced-knowledge-hub.spectacular-mode svg,
.dashboard .enhanced-knowledge-hub.spectacular-mode svg * {
    stroke: white !important;
    fill: none !important;
    color: white !important;
}

/* 🚨 NUCLEAR OPTION - APPLY TO ALL POSSIBLE SELECTORS */
.enhanced-knowledge-hub.spectacular-mode *:not(input):not(select):not(textarea):not(button):not(.badge):not(.resource-btn) {
    color: white !important;
}

/* 🚨 FORCE BUTTONS TO HAVE PROPER CONTRAST */
html body .enhanced-knowledge-hub.spectacular-mode button,
html body .enhanced-knowledge-hub.spectacular-mode .btn,
html body .enhanced-knowledge-hub.spectacular-mode .resource-btn,
html body .enhanced-knowledge-hub.spectacular-mode .insight-action-btn {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.2)) !important;
    color: white !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

/* 🚨 FINAL SAFETY NET - CATCH ANY MISSED ELEMENTS */
.enhanced-knowledge-hub.spectacular-mode .learning-analytics,
.enhanced-knowledge-hub.spectacular-mode .analytics-grid,
.enhanced-knowledge-hub.spectacular-mode .analytics-card,
.enhanced-knowledge-hub.spectacular-mode .ai-insights-section,
.enhanced-knowledge-hub.spectacular-mode .ai-insights-grid,
.enhanced-knowledge-hub.spectacular-mode .ai-insight-card {
    color: white !important;
}

.enhanced-knowledge-hub.spectacular-mode .learning-analytics *,
.enhanced-knowledge-hub.spectacular-mode .analytics-grid *,
.enhanced-knowledge-hub.spectacular-mode .analytics-card *,
.enhanced-knowledge-hub.spectacular-mode .ai-insights-section *,
.enhanced-knowledge-hub.spectacular-mode .ai-insights-grid *,
.enhanced-knowledge-hub.spectacular-mode .ai-insight-card * {
    color: white !important;
}

/* 🚨 ABSOLUTELY FINAL CATCH-ALL */
.enhanced-knowledge-hub.spectacular-mode {
    --text-primary: white !important;
    --text-secondary: rgba(255, 255, 255, 0.8) !important;
    --text-tertiary: rgba(255, 255, 255, 0.7) !important;
    --text-muted: rgba(255, 255, 255, 0.6) !important;
}

.enhanced-knowledge-hub.spectacular-mode * {
    color: inherit !important;
}

/* END CRITICAL FIXES */

/* 🚨 CRITICAL FIX: FORCE ALL TEXT WHITE IN SPECTACULAR MODE */

/* Override any global styles that set black text */
.enhanced-knowledge-hub.spectacular-mode,
.enhanced-knowledge-hub.spectacular-mode *:not(input):not(select):not(textarea) {
    color: white !important;
    -webkit-text-fill-color: white !important;
}

/* Specifically target the analytics section where black text was appearing */
.enhanced-knowledge-hub.spectacular-mode .learning-analytics,
.enhanced-knowledge-hub.spectacular-mode .learning-analytics *,
.enhanced-knowledge-hub.spectacular-mode .analytics-grid,
.enhanced-knowledge-hub.spectacular-mode .analytics-grid *,
.enhanced-knowledge-hub.spectacular-mode .analytics-card,
.enhanced-knowledge-hub.spectacular-mode .analytics-card *,
.enhanced-knowledge-hub.spectacular-mode .ai-insights-section,
.enhanced-knowledge-hub.spectacular-mode .ai-insights-section *,
.enhanced-knowledge-hub.spectacular-mode .ai-insights-grid,
.enhanced-knowledge-hub.spectacular-mode .ai-insights-grid *,
.enhanced-knowledge-hub.spectacular-mode .ai-insight-card,
.enhanced-knowledge-hub.spectacular-mode .ai-insight-card * {
    color: white !important;
    -webkit-text-fill-color: white !important;
}

/* Override any CSS custom properties that might set dark text */
.enhanced-knowledge-hub.spectacular-mode {
    --text-primary: white !important;
    --text-secondary: rgba(255, 255, 255, 0.8) !important;
    --text-tertiary: rgba(255, 255, 255, 0.7) !important;
    --text-muted: rgba(255, 255, 255, 0.6) !important;
}

/* Use the highest possible specificity to override any conflicting styles */
html body .dashboard .enhanced-knowledge-hub.spectacular-mode *:not(input):not(select):not(textarea):not(button) {
    color: white !important;
}

/* Ensure buttons maintain readability while fitting the design */
.enhanced-knowledge-hub.spectacular-mode button,
.enhanced-knowledge-hub.spectacular-mode .btn,
.enhanced-knowledge-hub.spectacular-mode .resource-btn,
.enhanced-knowledge-hub.spectacular-mode .insight-action-btn {
    color: white !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1)) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
}

/* Ensure SVG icons are also white */
.enhanced-knowledge-hub.spectacular-mode svg {
    stroke: white !important;
    fill: none !important;
    color: white !important;
}

/* END CRITICAL FIX */

/* 🔧 CRITICAL UI FIXES FOR KNOWLEDGE HUB */

/* 🔧 FIX SEARCH ICON AND STAR ALIGNMENT */
.enhanced-knowledge-hub.spectacular-mode .search-container.spectacular {
    position: relative;
    width: 320px;
    min-width: 280px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: blur(15px);
    border-radius: var(--radius-xl);
    padding: var(--space-3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2);
    display: flex !important;
    align-items: center !important;
    height: 56px;
}

/* Fix search input positioning and alignment */
.enhanced-knowledge-hub.spectacular-mode .enhanced-search.spectacular {
    flex: 1;
    padding: var(--space-3) var(--space-10) var(--space-3) var(--space-3);
    background: transparent;
    border: none;
    outline: none;
    color: white;
    font-size: var(--font-size-sm);
    font-weight: 500;
    position: relative;
    z-index: 2;
}

.enhanced-knowledge-hub.spectacular-mode .enhanced-search.spectacular::placeholder {
    color: rgba(255, 255, 255, 0.7);
    font-weight: 400;
}

/* Fix search icon positioning */
.enhanced-knowledge-hub.spectacular-mode .search-icon {
    position: absolute;
    right: var(--space-4);
    top: 50%;
    transform: translateY(-50%);
    color: rgba(255, 255, 255, 0.8);
    width: 20px;
    height: 20px;
    z-index: 3;
    pointer-events: none;
}

/* Fix star favorite button positioning */
.enhanced-knowledge-hub.spectacular-mode .star-btn.spectacular {
    position: absolute;
    right: var(--space-10);
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-md);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(255, 255, 255, 0.9);
    transition: all 0.3s ease;
    z-index: 4;
    cursor: pointer;
}

.enhanced-knowledge-hub.spectacular-mode .star-btn.spectacular:hover {
    background: rgba(255, 255, 255, 0.3);
    color: #fbbf24;
    transform: translateY(-50%) scale(1.1);
}

/* 📚 SMART LEARNING RESOURCES - PROPER DARK CARDS WITH LARGER SIZING */
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular {
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
    border-radius: var(--radius-2xl) !important;
    padding: var(--space-8) !important;
    /* Increased padding for larger size */
    position: relative !important;
    overflow: visible !important;
    margin-bottom: var(--space-6) !important;
    /* Increased margin */
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
    min-height: 200px !important;
    /* Ensure minimum height */
}

.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular:hover {
    background: linear-gradient(135deg, rgba(15, 23, 42, 1) 0%, rgba(30, 41, 59, 0.95) 100%) !important;
    border-color: rgba(255, 255, 255, 0.4) !important;
    transform: translateY(-4px) scale(1.02) !important;
    /* Slight scale on hover */
    box-shadow: 0 20px 45px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.25) !important;
}

/* LARGER TEXT SIZING AND BETTER CONTRAST */
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular .resource-title.spectacular,
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular h3,
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular h4 {
    color: white !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4) !important;
    font-size: var(--font-size-xl) !important;
    /* Increased font size */
    font-weight: 700 !important;
    line-height: 1.4 !important;
    margin-bottom: var(--space-4) !important;
}

.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular .resource-summary.spectacular,
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular .resource-description,
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular p {
    color: rgba(255, 255, 255, 0.95) !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
    font-size: var(--font-size-base) !important;
    /* Increased font size */
    line-height: 1.6 !important;
    margin-bottom: var(--space-3) !important;
}

/* LARGER RESOURCE ICONS */
.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular {
    width: 64px !important;
    /* Increased from 48px */
    height: 64px !important;
    /* Increased from 48px */
    border-radius: var(--radius-xl) !important;
    margin-bottom: var(--space-4) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-icon.spectacular svg {
    width: 28px !important;
    /* Increased from 20px */
    height: 28px !important;
    /* Increased from 20px */
}

/* 🏷️ FIX BADGE BUTTON OVERLAPPING */
.enhanced-knowledge-hub.spectacular-mode .resource-badges.spectacular {
    position: absolute !important;
    top: var(--space-4) !important;
    right: var(--space-4) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: var(--space-2) !important;
    z-index: 10 !important;
    align-items: flex-end !important;
}

/* REMOVED - Duplicate badge styling moved below */

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.new {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.9), rgba(5, 150, 105, 0.9)) !important;
    color: white !important;
    border-color: rgba(16, 185, 129, 0.5) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.featured {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.9), rgba(217, 119, 6, 0.9)) !important;
    color: white !important;
    border-color: rgba(245, 158, 11, 0.5) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.difficulty {
    margin-top: var(--space-1) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.difficulty.success {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.9), rgba(21, 128, 61, 0.9)) !important;
    color: white !important;
    border-color: rgba(34, 197, 94, 0.5) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.difficulty.warning {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.9), rgba(217, 119, 6, 0.9)) !important;
    color: white !important;
    border-color: rgba(251, 191, 36, 0.5) !important;
}

.enhanced-knowledge-hub.spectacular-mode .badge.spectacular.difficulty.danger {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.9), rgba(185, 28, 28, 0.9)) !important;
    color: white !important;
    border-color: rgba(239, 68, 68, 0.5) !important;
}

/* LARGER CONTENT AREA WITH BETTER SPACING */
.enhanced-knowledge-hub.spectacular-mode .enhanced-resource-card.spectacular .resource-content.spectacular {
    padding-right: 140px !important;
    /* Give more space for larger badges */
    padding-bottom: var(--space-4) !important;
    flex: 1 !important;
}

/* ENSURE MAIN CONTAINER HAS PROPER DARK BACKGROUND */
.enhanced-knowledge-hub.spectacular-mode {
    background: transparent !important;
    /* Let the gradient background show through */
}

.enhanced-knowledge-hub.spectacular-mode .resources-section.spectacular,
.enhanced-knowledge-hub.spectacular-mode .resources-container.spectacular {
    background: transparent !important;
    /* Ensure no white backgrounds */
}

/* LARGER BUTTONS WITH BETTER SPACING */
.enhanced-knowledge-hub.spectacular-mode .resource-actions.spectacular {
    display: flex !important;
    gap: var(--space-4) !important;
    /* Increased gap */
    margin-top: var(--space-6) !important;
    /* Increased margin */
    flex-wrap: wrap !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15)) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    color: white !important;
    padding: var(--space-3) var(--space-6) !important;
    /* Increased padding */
    border-radius: var(--radius-xl) !important;
    /* Larger border radius */
    font-weight: 600 !important;
    /* Bolder text */
    font-size: var(--font-size-sm) !important;
    /* Larger font */
    transition: all 0.3s ease !important;
    backdrop-filter: blur(12px) !important;
    min-height: 44px !important;
    /* Ensure minimum clickable area */
    display: flex !important;
    align-items: center !important;
    gap: var(--space-2) !important;
}

.enhanced-knowledge-hub.spectacular-mode .resource-btn.spectacular:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.3)) !important;
    border-color: rgba(255, 255, 255, 0.6) !important;
    transform: translateY(-2px) scale(1.05) !important;
    /* Enhanced hover effect */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3) !important;
}

/* LARGER LEARNING ANALYTICS SECTION */
.enhanced-knowledge-hub.spectacular-mode .learning-analytics.spectacular {
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
    border-radius: var(--radius-2xl) !important;
    padding: var(--space-8) !important;
    /* Increased padding */
    margin-bottom: var(--space-8) !important;
    /* Increased margin */
    min-height: 180px !important;
    /* Ensure proper height */
}

.enhanced-knowledge-hub.spectacular-mode .learning-analytics.spectacular .section-title.spectacular {
    color: white !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4) !important;
    font-size: var(--font-size-2xl) !important;
    /* Larger title */
    font-weight: 700 !important;
    margin-bottom: var(--space-6) !important;
    /* Increased margin */
}

/* LARGER STATS AND TEXT */
.enhanced-knowledge-hub.spectacular-mode .learning-analytics.spectacular * {
    color: white !important;
}

.enhanced-knowledge-hub.spectacular-mode .learning-analytics.spectacular .stat-value {
    color: white !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
    font-size: var(--font-size-2xl) !important;
    /* Larger stat values */
    font-weight: 800 !important;
}

.enhanced-knowledge-hub.spectacular-mode .learning-analytics.spectacular .stat-label {
    color: rgba(255, 255, 255, 0.9) !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
    font-size: var(--font-size-base) !important;
    /* Larger labels */
    font-weight: 500 !important;
}

/* LARGER BADGES WITH BETTER SIZING */
.enhanced-knowledge-hub.spectacular-mode .badge.spectacular {
    position: relative !important;
    padding: var(--space-2) var(--space-4) !important;
    /* Increased padding */
    border-radius: var(--radius-full) !important;
    font-size: var(--font-size-sm) !important;
    /* Increased font size */
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
    /* Enhanced shadow */
    backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    display: inline-block !important;
    white-space: nowrap !important;
    min-width: 80px !important;
    /* Minimum width for consistency */
    text-align: center !important;
}

/* Knowledge Hub Component */
.knowledge-hub {
    /* Extend card */
    background: var(--component-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--component-border);
    box-shadow: var(--component-shadow);
    border-radius: var(--radius-xl);
    transition: all var(--duration-normal) var(--ease-spring);
    overflow: hidden;
    position: relative;
    padding: var(--space-6);
}

.knowledge-hub:hover {
    background: var(--component-hover-bg);
    border-color: var(--component-hover-border);
    box-shadow: var(--component-hover-shadow);
    transform: translateY(-4px);
}

.knowledge-hub::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary-500), var(--success-500), var(--warning-500));
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
    opacity: 0;
    transition: opacity var(--duration-normal) var(--ease-in-out);
}

.knowledge-hub:hover::before {
    opacity: 1;
}

/* Hub Header */
.hub-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-6);
    padding-bottom: var(--space-4);
    border-bottom: 1px solid var(--component-border);
}

.hub-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

/* Resource Grid */
.resource-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-4);
    margin-bottom: var(--space-6);
}

.resource-card {
    background: var(--component-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--component-border);
    box-shadow: var(--component-shadow);
    border-radius: var(--radius-xl);
    padding: var(--space-4);
    transition: all var(--duration-normal) var(--ease-spring);
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.resource-card:hover {
    background: var(--component-hover-bg);
    border-color: var(--component-hover-border);
    box-shadow: var(--component-hover-shadow);
    transform: translateY(-2px);
}

.resource-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: var(--space-3);
    background: var(--component-bg);
    border: 1px solid var(--component-border);
}

.resource-icon.document {
    color: var(--primary-500);
}

.resource-icon.video {
    color: var(--success-500);
}

.resource-icon.tutorial {
    color: var(--warning-500);
}

.resource-content {
    margin-bottom: var(--space-3);
}

.resource-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--welcome-text);
    margin: 0 0 var(--space-2) 0;
}

.resource-description {
    font-size: var(--font-size-sm);
    color: var(--welcome-text-muted);
    margin: 0;
}

.resource-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: var(--font-size-xs);
    color: var(--welcome-text-muted);
}

.resource-author {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.author-avatar {
    width: 24px;
    height: 24px;
    border-radius: var(--radius-full);
    background: var(--component-bg);
    border: 1px solid var(--component-border);
}

/* Resource Search */
.resource-search {
    background: var(--component-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--component-border);
    color: var(--welcome-text);
    padding: var(--space-3) var(--space-4);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-sm);
    width: 100%;
    max-width: 300px;
    transition: all var(--duration-normal) var(--ease-spring);
}

.resource-search:focus {
    background: var(--component-hover-bg);
    border-color: var(--component-hover-border);
    box-shadow: var(--component-hover-shadow);
    outline: none;
    width: 100%;
    max-width: 400px;
}

/* Resource Filters */
.resource-filters {
    display: flex;
    gap: var(--space-4);
    margin-bottom: var(--space-6);
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    gap: var(--space-2);
}

.filter-btn {
    background: var(--component-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--component-border);
    color: var(--welcome-text);
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-sm);
    font-weight: 500;
    transition: all var(--duration-normal) var(--ease-spring);
}

.filter-btn:hover {
    background: var(--component-hover-bg);
    border-color: var(--component-hover-border);
    transform: translateY(-1px);
}

.filter-btn.active {
    background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
    border: none;
    color: white;
}

/* Responsive Design */
@media (max-width: 768px) {
    .knowledge-hub {
        padding: var(--space-4);
    }

    .resource-grid {
        grid-template-columns: 1fr;
    }

    .resource-filters {
        flex-direction: column;
        gap: var(--space-3);
    }

    .filter-group {
        width: 100%;
        justify-content: space-between;
    }

    .resource-search {
        max-width: none;
        width: 100%;
    }
}
